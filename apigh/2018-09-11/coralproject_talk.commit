{
  "sha": "13cc80bd356a8f2a3839ff4ea12010404dd152e6",
  "node_id": "MDY6Q29tbWl0NzI0NTQyNDI6MTNjYzgwYmQzNTZhOGYyYTM4MzlmZjRlYTEyMDEwNDA0ZGQxNTJlNg==",
  "commit": {
    "author": {
      "name": "Kiwi",
      "email": "vinh@wikiwi.io",
      "date": "2018-09-11T14:09:15Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2018-09-11T14:09:15Z"
    },
    "message": "Merge pull request #1841 from hjanuschka/toggle_comment_date\n\nmoderation: toggle comment date from timeago to full date",
    "tree": {
      "sha": "c2477eb56364e2df29e8ed088edc6e6504400873",
      "url": "https://api.github.com/repos/coralproject/talk/git/trees/c2477eb56364e2df29e8ed088edc6e6504400873"
    },
    "url": "https://api.github.com/repos/coralproject/talk/git/commits/13cc80bd356a8f2a3839ff4ea12010404dd152e6",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbl8yLCRBK7hj4Ov3rIwAAdHIIAF1Ff8hQb4nCk7Fp3iRpaDs4\nPsPHSRMJ2mxqbzqMMRXo2I7OaqP5SfPzhxQwoLpVIsR16b29yGxlRthmKeakwb7D\naIiE9a5mlk/g3LoKayS782+o2gQu2zHNIHXY3wwx2r93pgQF5AJhKPUCb0WdiUJP\nwum26in2VHYSVChXJW064VV9GmuGc80tRsIyu+duR7lUeWZX0k5OOL/6vbwlhquZ\nnrrPklZeurPeXlu89/RNYj/M1STZ0EFdipXumhOL+beq91odPLkLZOYX5liqrzYm\namF2v6QQ6lp6RNBhEv+y8LT87UWeyoAxMX+z9jafZJmwIPZkAp50XMSCmshSokk=\n=vOgE\n-----END PGP SIGNATURE-----\n",
      "payload": "tree c2477eb56364e2df29e8ed088edc6e6504400873\nparent 3af39d99e436f4907ad35b52286362dda603a6e5\nparent 1eea2daeae88b1c681acd438e4f445c8ec4740e1\nauthor Kiwi <vinh@wikiwi.io> 1536674955 +0200\ncommitter GitHub <noreply@github.com> 1536674955 +0200\n\nMerge pull request #1841 from hjanuschka/toggle_comment_date\n\nmoderation: toggle comment date from timeago to full date"
    }
  },
  "url": "https://api.github.com/repos/coralproject/talk/commits/13cc80bd356a8f2a3839ff4ea12010404dd152e6",
  "html_url": "https://github.com/coralproject/talk/commit/13cc80bd356a8f2a3839ff4ea12010404dd152e6",
  "comments_url": "https://api.github.com/repos/coralproject/talk/commits/13cc80bd356a8f2a3839ff4ea12010404dd152e6/comments",
  "author": {
    "login": "cvle",
    "id": 14221600,
    "node_id": "MDQ6VXNlcjE0MjIxNjAw",
    "avatar_url": "https://avatars2.githubusercontent.com/u/14221600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cvle",
    "html_url": "https://github.com/cvle",
    "followers_url": "https://api.github.com/users/cvle/followers",
    "following_url": "https://api.github.com/users/cvle/following{/other_user}",
    "gists_url": "https://api.github.com/users/cvle/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cvle/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cvle/subscriptions",
    "organizations_url": "https://api.github.com/users/cvle/orgs",
    "repos_url": "https://api.github.com/users/cvle/repos",
    "events_url": "https://api.github.com/users/cvle/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cvle/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3af39d99e436f4907ad35b52286362dda603a6e5",
      "url": "https://api.github.com/repos/coralproject/talk/commits/3af39d99e436f4907ad35b52286362dda603a6e5",
      "html_url": "https://github.com/coralproject/talk/commit/3af39d99e436f4907ad35b52286362dda603a6e5"
    },
    {
      "sha": "1eea2daeae88b1c681acd438e4f445c8ec4740e1",
      "url": "https://api.github.com/repos/coralproject/talk/commits/1eea2daeae88b1c681acd438e4f445c8ec4740e1",
      "html_url": "https://github.com/coralproject/talk/commit/1eea2daeae88b1c681acd438e4f445c8ec4740e1"
    }
  ],
  "stats": {
    "total": 72,
    "additions": 59,
    "deletions": 13
  },
  "files": [
    {
      "sha": "4393a5c0f3c33e5fdebdbc5aa9f2b28343221dd8",
      "filename": "client/coral-admin/src/components/UserDetailComment.js",
      "status": "modified",
      "additions": 3,
      "deletions": 5,
      "changes": 8,
      "blob_url": "https://github.com/coralproject/talk/blob/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-admin/src/components/UserDetailComment.js",
      "raw_url": "https://github.com/coralproject/talk/raw/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-admin/src/components/UserDetailComment.js",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/client/coral-admin/src/components/UserDetailComment.js?ref=13cc80bd356a8f2a3839ff4ea12010404dd152e6",
      "patch": "@@ -13,8 +13,8 @@ import CommentLabels from '../containers/CommentLabels';\n import ApproveButton from './ApproveButton';\n import RejectButton from 'coral-admin/src/components/RejectButton';\n import CommentDeletedTombstone from './CommentDeletedTombstone';\n-\n-import t, { timeago } from 'coral-framework/services/i18n';\n+import TimeAgo from 'coral-framework/components/TimeAgo';\n+import t from 'coral-framework/services/i18n';\n \n class UserDetailComment extends React.Component {\n   approve = () =>\n@@ -73,9 +73,7 @@ class UserDetailComment extends React.Component {\n               checked={selected}\n               onChange={e => toggleSelect(e.target.value, e.target.checked)}\n             />\n-            <span className={styles.created}>\n-              {timeago(comment.created_at)}\n-            </span>\n+            <TimeAgo className={styles.created} datetime={comment.created_at} />\n             {comment.editing && comment.editing.edited ? (\n               <span>\n                 &nbsp;<span className={styles.editedMarker}>"
    },
    {
      "sha": "762f7b193be40408e89069cec9d7da652e007e99",
      "filename": "client/coral-admin/src/routes/Moderation/components/Comment.js",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/coralproject/talk/blob/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-admin/src/routes/Moderation/components/Comment.js",
      "raw_url": "https://github.com/coralproject/talk/raw/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-admin/src/routes/Moderation/components/Comment.js",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/client/coral-admin/src/routes/Moderation/components/Comment.js?ref=13cc80bd356a8f2a3839ff4ea12010404dd152e6",
      "patch": "@@ -14,8 +14,9 @@ import cn from 'classnames';\n import ApproveButton from 'coral-admin/src/components/ApproveButton';\n import RejectButton from 'coral-admin/src/components/RejectButton';\n import CommentDeletedTombstone from '../../../components/CommentDeletedTombstone';\n+import TimeAgo from 'coral-framework/components/TimeAgo';\n \n-import t, { timeago } from 'coral-framework/services/i18n';\n+import t from 'coral-framework/services/i18n';\n \n class Comment extends React.Component {\n   ref = null;\n@@ -126,9 +127,10 @@ class Comment extends React.Component {\n                 {comment.user.username}\n               </span>\n \n-              <span className={styles.created}>\n-                {timeago(comment.created_at)}\n-              </span>\n+              <TimeAgo\n+                className={styles.created}\n+                datetime={comment.created_at}\n+              />\n               {comment.editing && comment.editing.edited ? (\n                 <span>\n                   &nbsp;<span className={styles.editedMarker}>"
    },
    {
      "sha": "9e8f2aedba8eee994cd9291bb51bc0cbfdfa7ffe",
      "filename": "client/coral-framework/components/CommentTimestamp.js",
      "status": "modified",
      "additions": 5,
      "deletions": 4,
      "changes": 9,
      "blob_url": "https://github.com/coralproject/talk/blob/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/CommentTimestamp.js",
      "raw_url": "https://github.com/coralproject/talk/raw/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/CommentTimestamp.js",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/client/coral-framework/components/CommentTimestamp.js?ref=13cc80bd356a8f2a3839ff4ea12010404dd152e6",
      "patch": "@@ -1,13 +1,14 @@\n import React from 'react';\n import PropTypes from 'prop-types';\n-import { timeago } from 'coral-framework/services/i18n';\n import cn from 'classnames';\n import styles from './CommentTimestamp.css';\n+import TimeAgo from 'coral-framework/components/TimeAgo';\n \n const CommentTimestamp = ({ className, created_at }) => (\n-  <div className={cn(className, styles.timestamp, 'talk-comment-timestamp')}>\n-    {timeago(created_at)}\n-  </div>\n+  <TimeAgo\n+    className={cn(className, styles.timestamp, 'talk-comment-timestamp')}\n+    datetime={created_at}\n+  />\n );\n \n CommentTimestamp.propTypes = {"
    },
    {
      "sha": "e15e6720ef598114fcdb88f0e066b3470e5a380a",
      "filename": "client/coral-framework/components/TimeAgo.css",
      "status": "added",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/coralproject/talk/blob/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/TimeAgo.css",
      "raw_url": "https://github.com/coralproject/talk/raw/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/TimeAgo.css",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/client/coral-framework/components/TimeAgo.css?ref=13cc80bd356a8f2a3839ff4ea12010404dd152e6",
      "patch": "@@ -0,0 +1,3 @@\n+.timeago {\n+  cursor: pointer;\n+}"
    },
    {
      "sha": "682018b38995628f1ad80d4de965fe7ae2259aff",
      "filename": "client/coral-framework/components/TimeAgo.js",
      "status": "added",
      "additions": 42,
      "deletions": 0,
      "changes": 42,
      "blob_url": "https://github.com/coralproject/talk/blob/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/TimeAgo.js",
      "raw_url": "https://github.com/coralproject/talk/raw/13cc80bd356a8f2a3839ff4ea12010404dd152e6/client/coral-framework/components/TimeAgo.js",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/client/coral-framework/components/TimeAgo.js?ref=13cc80bd356a8f2a3839ff4ea12010404dd152e6",
      "patch": "@@ -0,0 +1,42 @@\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+import { timeago } from 'coral-framework/services/i18n';\n+import cn from 'classnames';\n+import styles from './TimeAgo.css';\n+\n+class TimeAgo extends React.Component {\n+  constructor(props) {\n+    super(props);\n+    this.state = { timeago: true };\n+  }\n+  toggleDate = () => this.setState({ timeago: !this.state.timeago });\n+  render() {\n+    var displayTime = this.state.timeago\n+      ? timeago(this.props.datetime)\n+      : new Date(this.props.datetime).toLocaleString();\n+\n+    var titleDate = !this.state.timeago\n+      ? timeago(this.props.datetime)\n+      : new Date(this.props.datetime).toLocaleString();\n+    return (\n+      <span\n+        onClick={this.toggleDate}\n+        className={cn(\n+          this.props.className,\n+          styles.timeago,\n+          'talk-comment-timeago'\n+        )}\n+        title={titleDate}\n+      >\n+        {displayTime}\n+      </span>\n+    );\n+  }\n+}\n+\n+TimeAgo.propTypes = {\n+  datetime: PropTypes.string,\n+  className: PropTypes.string,\n+};\n+\n+export default TimeAgo;"
    }
  ]
}
