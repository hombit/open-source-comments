{
  "sha": "8062e5ff3775fd18fbbba80763b4f8b43c361e54",
  "node_id": "MDY6Q29tbWl0Njg5Njk2NjM6ODA2MmU1ZmYzNzc1ZmQxOGZiYmJhODA3NjNiNGY4YjQzYzM2MWU1NA==",
  "commit": {
    "author": {
      "name": "Ryan Neal",
      "email": "rybit@users.noreply.github.com",
      "date": "2018-07-26T16:31:11Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2018-07-26T16:31:11Z"
    },
    "message": "Merge pull request #11 from netlify/require-approval\n\nAdd option to always require approval for comments",
    "tree": {
      "sha": "a5b8802e03abec05ad60058a5db4e5bc9bb3038f",
      "url": "https://api.github.com/repos/netlify/gotell/git/trees/a5b8802e03abec05ad60058a5db4e5bc9bb3038f"
    },
    "url": "https://api.github.com/repos/netlify/gotell/git/commits/8062e5ff3775fd18fbbba80763b4f8b43c361e54",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbWfdPCRBK7hj4Ov3rIwAAdHIIACYv1iugM6VfBx4NbaurVvCT\nFMKJSrkiPWM4g1m9549f0dRcGb7uKgfg/SnHkSY9zarPBP36hUPdgxtZ8VJMNmJg\nEQdxp0EKJ+h/UXPRaFAgwVAodoJQWe0AZXqXWXy+lSJcwpdKsy/qo5B7Qawvsoxz\nv3s1Q6TwwvoCXNtkUzOeh8VLzhnY3aTeBL01rhknB37fT0ZRRfWneaqXK9imItfe\nxmNpW1vUoimpbNH4imkknvh/2s7hkf0X1piV7CPnGelvPHjMPQG2SP6tLGQ1KRXy\npi+PyY76f+PFYVt/z+QHF8KO7emnaqxZi6Zlv2cVqMixBDz6a0KA/pSpnUSSsPQ=\n=s3z/\n-----END PGP SIGNATURE-----\n",
      "payload": "tree a5b8802e03abec05ad60058a5db4e5bc9bb3038f\nparent d574a1d75a3f8b95d7392399c76c8f304db2b446\nparent 0e5c7e533d489fe4eb058d51ee49f3a5b92efae6\nauthor Ryan Neal <rybit@users.noreply.github.com> 1532622671 -0700\ncommitter GitHub <noreply@github.com> 1532622671 -0700\n\nMerge pull request #11 from netlify/require-approval\n\nAdd option to always require approval for comments"
    }
  },
  "url": "https://api.github.com/repos/netlify/gotell/commits/8062e5ff3775fd18fbbba80763b4f8b43c361e54",
  "html_url": "https://github.com/netlify/gotell/commit/8062e5ff3775fd18fbbba80763b4f8b43c361e54",
  "comments_url": "https://api.github.com/repos/netlify/gotell/commits/8062e5ff3775fd18fbbba80763b4f8b43c361e54/comments",
  "author": {
    "login": "rybit",
    "id": 406376,
    "node_id": "MDQ6VXNlcjQwNjM3Ng==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/406376?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rybit",
    "html_url": "https://github.com/rybit",
    "followers_url": "https://api.github.com/users/rybit/followers",
    "following_url": "https://api.github.com/users/rybit/following{/other_user}",
    "gists_url": "https://api.github.com/users/rybit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rybit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rybit/subscriptions",
    "organizations_url": "https://api.github.com/users/rybit/orgs",
    "repos_url": "https://api.github.com/users/rybit/repos",
    "events_url": "https://api.github.com/users/rybit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rybit/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "d574a1d75a3f8b95d7392399c76c8f304db2b446",
      "url": "https://api.github.com/repos/netlify/gotell/commits/d574a1d75a3f8b95d7392399c76c8f304db2b446",
      "html_url": "https://github.com/netlify/gotell/commit/d574a1d75a3f8b95d7392399c76c8f304db2b446"
    },
    {
      "sha": "0e5c7e533d489fe4eb058d51ee49f3a5b92efae6",
      "url": "https://api.github.com/repos/netlify/gotell/commits/0e5c7e533d489fe4eb058d51ee49f3a5b92efae6",
      "html_url": "https://github.com/netlify/gotell/commit/0e5c7e533d489fe4eb058d51ee49f3a5b92efae6"
    }
  ],
  "stats": {
    "total": 13,
    "additions": 7,
    "deletions": 6
  },
  "files": [
    {
      "sha": "45d203e634811318d5c774a33f6f7507664080e3",
      "filename": "api/server.go",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/netlify/gotell/blob/8062e5ff3775fd18fbbba80763b4f8b43c361e54/api/server.go",
      "raw_url": "https://github.com/netlify/gotell/raw/8062e5ff3775fd18fbbba80763b4f8b43c361e54/api/server.go",
      "contents_url": "https://api.github.com/repos/netlify/gotell/contents/api/server.go?ref=8062e5ff3775fd18fbbba80763b4f8b43c361e54",
      "patch": "@@ -111,7 +111,7 @@ func (s *Server) postComment(ctx context.Context, w http.ResponseWriter, req *ht\n \tcontent, _ := json.Marshal(comment)\n \tbranch := \"master\"\n \n-\tif comment.IsSuspicious() {\n+\tif settings.RequireApproval || comment.IsSuspicious() {\n \t\tbranch = \"comment-\" + comment.ID\n \t\tmaster, _, err := s.client.Repositories.GetBranch(ctx, parts[0], parts[1], \"master\")\n \t\tsha := master.Commit.GetSHA()"
    },
    {
      "sha": "f07f46bcf3e543b8d6858cc3c4b50776b2f4bf27",
      "filename": "api/settings.go",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/netlify/gotell/blob/8062e5ff3775fd18fbbba80763b4f8b43c361e54/api/settings.go",
      "raw_url": "https://github.com/netlify/gotell/raw/8062e5ff3775fd18fbbba80763b4f8b43c361e54/api/settings.go",
      "contents_url": "https://api.github.com/repos/netlify/gotell/contents/api/settings.go?ref=8062e5ff3775fd18fbbba80763b4f8b43c361e54",
      "patch": "@@ -11,11 +11,12 @@ import (\n const settingsRefreshTime = 10 * time.Minute\n \n type settings struct {\n-\tBannedIPs      []string `json:\"banned_ips\"`\n-\tBannedKeywords []string `json:\"banned_keywords\"`\n-\tBannedEmails   []string `json:\"banned_emails\"`\n-\tTimeLimit      int      `json:\"timelimit\"`\n-\tlastLoad       time.Time\n+\tBannedIPs       []string `json:\"banned_ips\"`\n+\tBannedKeywords  []string `json:\"banned_keywords\"`\n+\tBannedEmails    []string `json:\"banned_emails\"`\n+\tRequireApproval bool     `json:\"require_approval\"`\n+\tTimeLimit       int      `json:\"timelimit\"`\n+\tlastLoad        time.Time\n }\n \n func (s *settings) fresh() bool {"
    }
  ]
}
