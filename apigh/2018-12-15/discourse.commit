{
  "sha": "d803dfc14ac7d27ac229c9dcad8997b1b74aaf99",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODpkODAzZGZjMTRhYzdkMjdhYzIyOWM5ZGNhZDg5OTdiMWI3NGFhZjk5",
  "commit": {
    "author": {
      "name": "Joffrey JAFFEUX",
      "email": "j.jaffeux@gmail.com",
      "date": "2018-12-15T15:23:23Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2018-12-15T15:23:23Z"
    },
    "message": "FIX: makes more resilient select-kit positioning (#6776)",
    "tree": {
      "sha": "e2de341ad3e33b0971157854e28d289257e7dfd6",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/e2de341ad3e33b0971157854e28d289257e7dfd6"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcFRxrCRBK7hj4Ov3rIwAAdHIIAEo3b/W81CmNxuTmknIJpjqK\nz/9F8rftwUowDv5btxdefCb9o2ibDeW1+uGfx8WXLsOmFPMqi73HqQnSpaqQxjws\na/pyF1wJTqoJysrTspnMDEoqeJBKRVWx8hWaKUkkQxc0N/mMKbRKxZfZDcHDsf9Y\n886CpOTqvL51nYXYI/d660xeiq8If5C6pB3J9IvstAgKTBgnogRJRlvLHy64ni1N\n97VMDYTsLVhqxROzBxUSaUmGkKlz7eujZkB6ZfSVUHMQqnbMdDXzUhmlwo74s4gD\nJz1LTXAyj96OsErkhy2sDsTUgi1HzjNcj9QdX4MKI6434LixeLUBvPYZTWULQNE=\n=zaVb\n-----END PGP SIGNATURE-----\n",
      "payload": "tree e2de341ad3e33b0971157854e28d289257e7dfd6\nparent 6213e020e61b80963e0449fa02a66a973c1e8611\nauthor Joffrey JAFFEUX <j.jaffeux@gmail.com> 1544887403 +0100\ncommitter GitHub <noreply@github.com> 1544887403 +0100\n\nFIX: makes more resilient select-kit positioning (#6776)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99",
  "html_url": "https://github.com/discourse/discourse/commit/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99/comments",
  "author": {
    "login": "jjaffeux",
    "id": 339945,
    "node_id": "MDQ6VXNlcjMzOTk0NQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/339945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jjaffeux",
    "html_url": "https://github.com/jjaffeux",
    "followers_url": "https://api.github.com/users/jjaffeux/followers",
    "following_url": "https://api.github.com/users/jjaffeux/following{/other_user}",
    "gists_url": "https://api.github.com/users/jjaffeux/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jjaffeux/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jjaffeux/subscriptions",
    "organizations_url": "https://api.github.com/users/jjaffeux/orgs",
    "repos_url": "https://api.github.com/users/jjaffeux/repos",
    "events_url": "https://api.github.com/users/jjaffeux/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jjaffeux/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6213e020e61b80963e0449fa02a66a973c1e8611",
      "url": "https://api.github.com/repos/discourse/discourse/commits/6213e020e61b80963e0449fa02a66a973c1e8611",
      "html_url": "https://github.com/discourse/discourse/commit/6213e020e61b80963e0449fa02a66a973c1e8611"
    }
  ],
  "stats": {
    "total": 9,
    "additions": 7,
    "deletions": 2
  },
  "files": [
    {
      "sha": "b6a4fdf64fc2994254af90fd5e76eef08413e651",
      "filename": "app/assets/javascripts/select-kit/mixins/dom-helpers.js.es6",
      "status": "modified",
      "additions": 7,
      "deletions": 2,
      "changes": 9,
      "blob_url": "https://github.com/discourse/discourse/blob/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99/app/assets/javascripts/select-kit/mixins/dom-helpers.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/d803dfc14ac7d27ac229c9dcad8997b1b74aaf99/app/assets/javascripts/select-kit/mixins/dom-helpers.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/mixins/dom-helpers.js.es6?ref=d803dfc14ac7d27ac229c9dcad8997b1b74aaf99",
      "patch": "@@ -64,6 +64,10 @@ export default Ember.Mixin.create({\n   },\n \n   @on(\"didRender\")\n+  _schedulePositionRendering() {\n+    Ember.run.debounce(this, this._adjustPosition, 50, true);\n+  },\n+\n   _adjustPosition() {\n     this._applyFixedPosition();\n     this._applyDirection();\n@@ -205,9 +209,10 @@ export default Ember.Mixin.create({\n \n     const fullHeight =\n       this.get(\"verticalOffset\") + bodyHeight + componentHeight;\n-    const hasBelowSpace = $(window).height() - offsetBottom - fullHeight > 0;\n-    const hasAboveSpace = offsetTop - fullHeight - discourseHeaderHeight > 0;\n+    const hasBelowSpace = $(window).height() - offsetBottom - fullHeight >= -1;\n+    const hasAboveSpace = offsetTop - fullHeight - discourseHeaderHeight >= -1;\n     const headerHeight = this._computedStyle(this.$header()[0], \"height\");\n+\n     if (hasBelowSpace || (!hasBelowSpace && !hasAboveSpace)) {\n       this.setProperties({ isBelow: true, isAbove: false });\n       options.top = headerHeight + this.get(\"verticalOffset\");"
    }
  ]
}
