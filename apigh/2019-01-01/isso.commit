{
  "sha": "5b44ca8fb2e0e8fda4fee4489244a08f0863567d",
  "node_id": "MDY6Q29tbWl0NjI2ODQxOTo1YjQ0Y2E4ZmIyZTBlOGZkYTRmZWU0NDg5MjQ0YTA4ZjA4NjM1Njdk",
  "commit": {
    "author": {
      "name": "Jelmer Vernooĳ",
      "email": "jelmer@jelmer.uk",
      "date": "2018-12-30T13:39:02Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2018-12-30T13:39:02Z"
    },
    "message": "Merge pull request #519 from HorlogeSkynet/master\n\nRemoves potential '//' from email links (#420)",
    "tree": {
      "sha": "ce279aadac047304427ef954572d0422b0e0c1c9",
      "url": "https://api.github.com/repos/posativ/isso/git/trees/ce279aadac047304427ef954572d0422b0e0c1c9"
    },
    "url": "https://api.github.com/repos/posativ/isso/git/commits/5b44ca8fb2e0e8fda4fee4489244a08f0863567d",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcKMp2CRBK7hj4Ov3rIwAAdHIIAG2wDFw1+L1qBOCY94xwpy2x\nxFHAAmTswGUXrEracymcESBUp3Fg2pw3pnk6rjVkh1xooiIFBm107acj3XTk5UN6\nTnB9bKhvA994pzmogd2nM/OJ4vzJbdNWyMSaSF06pszS5AXiUcwx9d5ZQqQy6ww3\ndT1p2McZhrljGwt8UkTy7x2ivBsOCP+RZ4jGdL+GGcIC3/PIrGkn11770pi6y3lp\nwk6vZmqIHPi7mxVo1B5JYlWPGEQgGYtseJPMnwSW4UersS4t+9zUw0fXqcXpxRU6\nwaxOFrJswpiamZDkEGVj8sAYW7wpo8MX1jmqQpo+qRG8dYDa81pPPn+boHImrd8=\n=pMxG\n-----END PGP SIGNATURE-----\n",
      "payload": "tree ce279aadac047304427ef954572d0422b0e0c1c9\nparent 784e08170ab8694ef610564305e6382a482f78b0\nparent 1a3f803b966cd32da367978f306b923d433c5cda\nauthor Jelmer Vernooĳ <jelmer@jelmer.uk> 1546177142 +0000\ncommitter GitHub <noreply@github.com> 1546177142 +0000\n\nMerge pull request #519 from HorlogeSkynet/master\n\nRemoves potential '//' from email links (#420)"
    }
  },
  "url": "https://api.github.com/repos/posativ/isso/commits/5b44ca8fb2e0e8fda4fee4489244a08f0863567d",
  "html_url": "https://github.com/posativ/isso/commit/5b44ca8fb2e0e8fda4fee4489244a08f0863567d",
  "comments_url": "https://api.github.com/repos/posativ/isso/commits/5b44ca8fb2e0e8fda4fee4489244a08f0863567d/comments",
  "author": {
    "login": "jelmer",
    "id": 49032,
    "node_id": "MDQ6VXNlcjQ5MDMy",
    "avatar_url": "https://avatars3.githubusercontent.com/u/49032?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jelmer",
    "html_url": "https://github.com/jelmer",
    "followers_url": "https://api.github.com/users/jelmer/followers",
    "following_url": "https://api.github.com/users/jelmer/following{/other_user}",
    "gists_url": "https://api.github.com/users/jelmer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jelmer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jelmer/subscriptions",
    "organizations_url": "https://api.github.com/users/jelmer/orgs",
    "repos_url": "https://api.github.com/users/jelmer/repos",
    "events_url": "https://api.github.com/users/jelmer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jelmer/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "784e08170ab8694ef610564305e6382a482f78b0",
      "url": "https://api.github.com/repos/posativ/isso/commits/784e08170ab8694ef610564305e6382a482f78b0",
      "html_url": "https://github.com/posativ/isso/commit/784e08170ab8694ef610564305e6382a482f78b0"
    },
    {
      "sha": "1a3f803b966cd32da367978f306b923d433c5cda",
      "url": "https://api.github.com/repos/posativ/isso/commits/1a3f803b966cd32da367978f306b923d433c5cda",
      "html_url": "https://github.com/posativ/isso/commit/1a3f803b966cd32da367978f306b923d433c5cda"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 2,
    "deletions": 0
  },
  "files": [
    {
      "sha": "521cc191beeb0a314760966535edb87215f6e997",
      "filename": "isso/ext/notifications.py",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/posativ/isso/blob/5b44ca8fb2e0e8fda4fee4489244a08f0863567d/isso/ext/notifications.py",
      "raw_url": "https://github.com/posativ/isso/raw/5b44ca8fb2e0e8fda4fee4489244a08f0863567d/isso/ext/notifications.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/isso/ext/notifications.py?ref=5b44ca8fb2e0e8fda4fee4489244a08f0863567d",
      "patch": "@@ -77,6 +77,8 @@ def __init__(self, isso):\n         self.isso = isso\n         self.conf = isso.conf.section(\"smtp\")\n         self.public_endpoint = isso.conf.get(\"server\", \"public-endpoint\") or local(\"host\")\n+        if self.public_endpoint.endswith('/'):\n+            self.public_endpoint = self.public_endpoint.rstrip('/')\n         self.admin_notify = any((n in (\"smtp\", \"SMTP\")) for n in isso.conf.getlist(\"general\", \"notify\"))\n         self.reply_notify = isso.conf.getboolean(\"general\", \"reply-notifications\")\n "
    }
  ]
}
