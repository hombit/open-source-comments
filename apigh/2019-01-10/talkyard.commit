{
  "sha": "2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
  "node_id": "MDY6Q29tbWl0MTA1NjMzMjI6Mjk1MGNjMWZkNjgxNDdkMWQ5MzE1YzY4MGJjMjQzM2NkOWRkZDY3ZA==",
  "commit": {
    "author": {
      "name": "Kaj Magnus Lindberg",
      "email": "kajmagnus3@gmail.com",
      "date": "2019-01-09T17:57:54Z"
    },
    "committer": {
      "name": "Kaj Magnus Lindberg",
      "email": "kajmagnus3@gmail.com",
      "date": "2019-01-09T18:26:37Z"
    },
    "message": "Rename script file. Skip broken Selenium-running test\n\nAnd remove weird 'exit'. Bump submodules.",
    "tree": {
      "sha": "34d4dae68c10a28ca1390bbe378f7193fd4271c6",
      "url": "https://api.github.com/repos/debiki/talkyard/git/trees/34d4dae68c10a28ca1390bbe378f7193fd4271c6"
    },
    "url": "https://api.github.com/repos/debiki/talkyard/git/commits/2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/debiki/talkyard/commits/2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
  "html_url": "https://github.com/debiki/talkyard/commit/2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
  "comments_url": "https://api.github.com/repos/debiki/talkyard/commits/2950cc1fd68147d1d9315c680bc2433cd9ddd67d/comments",
  "author": {
    "login": "kajmagnus",
    "id": 7477359,
    "node_id": "MDQ6VXNlcjc0NzczNTk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/7477359?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kajmagnus",
    "html_url": "https://github.com/kajmagnus",
    "followers_url": "https://api.github.com/users/kajmagnus/followers",
    "following_url": "https://api.github.com/users/kajmagnus/following{/other_user}",
    "gists_url": "https://api.github.com/users/kajmagnus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kajmagnus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kajmagnus/subscriptions",
    "organizations_url": "https://api.github.com/users/kajmagnus/orgs",
    "repos_url": "https://api.github.com/users/kajmagnus/repos",
    "events_url": "https://api.github.com/users/kajmagnus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kajmagnus/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "kajmagnus",
    "id": 7477359,
    "node_id": "MDQ6VXNlcjc0NzczNTk=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/7477359?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kajmagnus",
    "html_url": "https://github.com/kajmagnus",
    "followers_url": "https://api.github.com/users/kajmagnus/followers",
    "following_url": "https://api.github.com/users/kajmagnus/following{/other_user}",
    "gists_url": "https://api.github.com/users/kajmagnus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kajmagnus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kajmagnus/subscriptions",
    "organizations_url": "https://api.github.com/users/kajmagnus/orgs",
    "repos_url": "https://api.github.com/users/kajmagnus/repos",
    "events_url": "https://api.github.com/users/kajmagnus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kajmagnus/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fa9cc4a35c46fe74387bc9565a423f31e5c1f055",
      "url": "https://api.github.com/repos/debiki/talkyard/commits/fa9cc4a35c46fe74387bc9565a423f31e5c1f055",
      "html_url": "https://github.com/debiki/talkyard/commit/fa9cc4a35c46fe74387bc9565a423f31e5c1f055"
    }
  ],
  "stats": {
    "total": 39,
    "additions": 21,
    "deletions": 18
  },
  "files": [
    {
      "sha": "d1e3d34dfcb33c6fd526827fd59b84ccc1bbd642",
      "filename": "modules/ed-prod-one-test",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": null,
      "raw_url": null,
      "contents_url": "https://api.github.com/repos/debiki/talkyard/contents/modules/ed-prod-one-test?ref=2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
      "patch": "@@ -1 +1 @@\n-Subproject commit c3bb898f963908d38446ee998d5febd8d83c391a\n+Subproject commit d1e3d34dfcb33c6fd526827fd59b84ccc1bbd642"
    },
    {
      "sha": "5afde3aee1568df9e078ca0e70a295a9cc2952ac",
      "filename": "modules/ed-versions",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": null,
      "raw_url": null,
      "contents_url": "https://api.github.com/repos/debiki/talkyard/contents/modules/ed-versions?ref=2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
      "patch": "@@ -1 +1 @@\n-Subproject commit 988ee0168324ce7dae53a7293d45902168442a7d\n+Subproject commit 5afde3aee1568df9e078ca0e70a295a9cc2952ac"
    },
    {
      "sha": "bc3505a0442826c3473602472d2cc39f6575b313",
      "filename": "s/build-prod-images.sh",
      "status": "renamed",
      "additions": 19,
      "deletions": 16,
      "changes": 35,
      "blob_url": "https://github.com/debiki/talkyard/blob/2950cc1fd68147d1d9315c680bc2433cd9ddd67d/s/build-prod-images.sh",
      "raw_url": "https://github.com/debiki/talkyard/raw/2950cc1fd68147d1d9315c680bc2433cd9ddd67d/s/build-prod-images.sh",
      "contents_url": "https://api.github.com/repos/debiki/talkyard/contents/s/build-prod-images.sh?ref=2950cc1fd68147d1d9315c680bc2433cd9ddd67d",
      "patch": "@@ -1,3 +1,4 @@\n+#!/bin/bash\n # ideas about what to do:  https://github.com/sbt/sbt-release\n \n # Abort on any error\n@@ -86,20 +87,22 @@ if [ -z \"$chromedrivers\" ]; then\n fi\n \n \n-test_selenium_up='curl --output /dev/null --silent --head --fail http://127.0.0.1:4444'\n-if $($test_selenium_up) ; then\n-  echo 'Selenium already running, fine.'\n-else\n-  echo 'Do in another shell: (so I can run end-to-end tests)\n-\n-  s/selenium-start-invisible\n-'\n-  printf 'Waiting for you'\n-  until $($test_selenium_up); do\n-    printf '.'\n-    sleep 2\n-  done\n-fi\n+# No longer works, a new version of Selenium suddenly fails with an internal\n+# server error, so this if-else never thinks Selenium is running.\n+#test_selenium_up='curl --output /dev/null --silent --head --fail http://127.0.0.1:4444'\n+#if $($test_selenium_up) ; then\n+#  echo 'Selenium already running, fine.'\n+#else\n+#  echo 'Do in another shell: (so I can run end-to-end tests)\n+#\n+#  s/selenium-start-invisible\n+#'\n+#  printf 'Waiting for you'\n+#  until $($test_selenium_up); do\n+#    printf '.'\n+#    sleep 2\n+#  done\n+#fi\n \n \n \n@@ -125,9 +128,9 @@ echo\n echo \"About to build version:  $version_tag   (see version.txt),\"\n echo \"for pushing to Docker repository:  $REPO  (see .env).\"\n echo\n-echo \"Press Enter to continue, or CTRL+C to exit.\"\n+echo \"Press Enter to continue, or CTRL+C to exit\"\n read -s -p ''\n-exit\n+\n \n \n # Build and run tests",
      "previous_filename": "s/build-and-release.sh"
    }
  ]
}
