{
  "sha": "6485ce55660f396ad591661ff1f12b71f89252ef",
  "node_id": "MDY6Q29tbWl0MTI4NjgzMjc0OjY0ODVjZTU1NjYwZjM5NmFkNTkxNjYxZmYxZjEyYjcxZjg5MjUyZWY=",
  "commit": {
    "author": {
      "name": "Damien Guard",
      "email": "damieng@gmail.com",
      "date": "2019-02-20T04:58:57Z"
    },
    "committer": {
      "name": "Damien Guard",
      "email": "damieng@gmail.com",
      "date": "2019-02-20T04:58:57Z"
    },
    "message": "Move YAML serialization to Comment",
    "tree": {
      "sha": "539b2980f201764537837daca1e775520b83b2f3",
      "url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/git/trees/539b2980f201764537837daca1e775520b83b2f3"
    },
    "url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/git/commits/6485ce55660f396ad591661ff1f12b71f89252ef",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unknown_key",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJGBAABCAAwFiEE1EhuCiW7GIurXlTi2tGXQnFmwMYFAlxs3pESHGRhbWllbmdA\nZ21haWwuY29tAAoJENrRl0JxZsDGSswQAKBIRr8ekDaa1rJ3vkTzbM3co9nihoJo\nm7r3XWk059ElWeE9Yvz1Z7DoXQ+mXZjGgaUv5W5KscnTaNbXQoIfhY8ZiLFwnGa/\ns13fgfLNINBF3z9c4+fS0a05AHfq9dj+Jthj1RDLk/vlICUBvLnb9pKWBFBkGsDO\n1WynAiNw87hK6YkqNV5PeqgGB6DxdOkmddBQUfO490D2Q+zZEMnd9JtUsjU3gDIs\nFHkSUy1HFTngKg7G5TE8C/bO2QgdYhFAr59Q4QPEB+O1Ja10WDr1TVOlGbWMIqwQ\nXMI9bZGRmVnOGpRHM2wYl+d278AI/Gd4mBDNaiSTwIPAKRtgJM0RmpnFhHQRWmj0\n3ndTB1BnK8woo3Ono+guWnBHY2mTQuDeGUg+MfUBc1osYd4lU4CwBjg7WX4BKDf7\nrK590OXhQsdFUfuYeX9pinCeQNhZBk3xY7FxxcCrB/tzd+4eaFxU5DPcfLEOroGs\nfG6s2E2k27pBb9uqAxyRi6x3SpNsxt9IY6P83OlYY++0ocy7vHS2ZzdyVI16mr1J\nTVr6e7CME9RgbJhGH9juHJFVDWin6DBwscbaCzMncV2k0v8RoIwgDD+yDcqjO+bg\n3FuFuso9tvJZyOZe3RwG/z8ztVqztsITnJTFb43+ehm8gz7pkmbHkG6mmt6HDeVK\nigrO1Z/bqYYZ\n=A7Vf\n-----END PGP SIGNATURE-----",
      "payload": "tree 539b2980f201764537837daca1e775520b83b2f3\nparent eeca925c9c62f833d46933c743c34b5d1e3a839c\nauthor Damien Guard <damieng@gmail.com> 1550638737 -0800\ncommitter Damien Guard <damieng@gmail.com> 1550638737 -0800\n\nMove YAML serialization to Comment\n"
    }
  },
  "url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/commits/6485ce55660f396ad591661ff1f12b71f89252ef",
  "html_url": "https://github.com/Azure-Functions/jekyll-blog-comments/commit/6485ce55660f396ad591661ff1f12b71f89252ef",
  "comments_url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/commits/6485ce55660f396ad591661ff1f12b71f89252ef/comments",
  "author": {
    "login": "damieng",
    "id": 118951,
    "node_id": "MDQ6VXNlcjExODk1MQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/118951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/damieng",
    "html_url": "https://github.com/damieng",
    "followers_url": "https://api.github.com/users/damieng/followers",
    "following_url": "https://api.github.com/users/damieng/following{/other_user}",
    "gists_url": "https://api.github.com/users/damieng/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/damieng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/damieng/subscriptions",
    "organizations_url": "https://api.github.com/users/damieng/orgs",
    "repos_url": "https://api.github.com/users/damieng/repos",
    "events_url": "https://api.github.com/users/damieng/events{/privacy}",
    "received_events_url": "https://api.github.com/users/damieng/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "damieng",
    "id": 118951,
    "node_id": "MDQ6VXNlcjExODk1MQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/118951?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/damieng",
    "html_url": "https://github.com/damieng",
    "followers_url": "https://api.github.com/users/damieng/followers",
    "following_url": "https://api.github.com/users/damieng/following{/other_user}",
    "gists_url": "https://api.github.com/users/damieng/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/damieng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/damieng/subscriptions",
    "organizations_url": "https://api.github.com/users/damieng/orgs",
    "repos_url": "https://api.github.com/users/damieng/repos",
    "events_url": "https://api.github.com/users/damieng/events{/privacy}",
    "received_events_url": "https://api.github.com/users/damieng/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "eeca925c9c62f833d46933c743c34b5d1e3a839c",
      "url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/commits/eeca925c9c62f833d46933c743c34b5d1e3a839c",
      "html_url": "https://github.com/Azure-Functions/jekyll-blog-comments/commit/eeca925c9c62f833d46933c743c34b5d1e3a839c"
    }
  ],
  "stats": {
    "total": 8,
    "additions": 6,
    "deletions": 2
  },
  "files": [
    {
      "sha": "1b75c9428e036d7d124376c4a144198fdf840bca",
      "filename": "JekyllBlogCommentsAzure/Comment.cs",
      "status": "modified",
      "additions": 5,
      "deletions": 0,
      "changes": 5,
      "blob_url": "https://github.com/Azure-Functions/jekyll-blog-comments/blob/6485ce55660f396ad591661ff1f12b71f89252ef/JekyllBlogCommentsAzure/Comment.cs",
      "raw_url": "https://github.com/Azure-Functions/jekyll-blog-comments/raw/6485ce55660f396ad591661ff1f12b71f89252ef/JekyllBlogCommentsAzure/Comment.cs",
      "contents_url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/contents/JekyllBlogCommentsAzure/Comment.cs?ref=6485ce55660f396ad591661ff1f12b71f89252ef",
      "patch": "@@ -95,5 +95,10 @@ public Comment(string post_id, string message, string name, string email = null,\n         public Uri url { get; }\n \n         public string message { get; }\n+\n+        public string ToYaml()\n+        {\n+            return new SerializerBuilder().Build().Serialize(this);\n+        }\n     }\n }"
    },
    {
      "sha": "0541bf683682ad8317f26f6f39f808e6766e33b6",
      "filename": "JekyllBlogCommentsAzure/PostCommentToPullRequestFunction.cs",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/Azure-Functions/jekyll-blog-comments/blob/6485ce55660f396ad591661ff1f12b71f89252ef/JekyllBlogCommentsAzure/PostCommentToPullRequestFunction.cs",
      "raw_url": "https://github.com/Azure-Functions/jekyll-blog-comments/raw/6485ce55660f396ad591661ff1f12b71f89252ef/JekyllBlogCommentsAzure/PostCommentToPullRequestFunction.cs",
      "contents_url": "https://api.github.com/repos/Azure-Functions/jekyll-blog-comments/contents/JekyllBlogCommentsAzure/PostCommentToPullRequestFunction.cs?ref=6485ce55660f396ad591661ff1f12b71f89252ef",
      "patch": "@@ -7,7 +7,6 @@\n using System.Net;\n using System.Net.Http;\n using System.Threading.Tasks;\n-using YamlDotNet.Serialization;\n \n namespace JekyllBlogCommentsAzure\n {\n@@ -67,7 +66,7 @@ private static async Task<PullRequest> CreatePullRequest(Comment comment)\n             var newBranch = await github.Git.Reference.Create(repo.Id, new NewReference($\"refs/heads/comment-{comment.id}\", defaultBranch.Commit.Sha));\n \n             // Create a new file with the comments in it\n-            var fileRequest = new CreateFileRequest($\"Comment by {comment.name} on {comment.post_id}\", new SerializerBuilder().Build().Serialize(comment), newBranch.Ref)\n+            var fileRequest = new CreateFileRequest($\"Comment by {comment.name} on {comment.post_id}\", comment.ToYaml(), newBranch.Ref)\n             {\n                 Committer = new Committer(comment.name, comment.email ?? ConfigurationManager.AppSettings[\"CommentFallbackCommitEmail\"] ?? \"redacted@example.com\", comment.date)\n             };"
    }
  ]
}
