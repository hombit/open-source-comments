{
  "sha": "a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODphOGUzYWM5MGEwN2EwOGQ1N2RhYTRjMWVhZDgwOWZjYTE5MTZkYzRm",
  "commit": {
    "author": {
      "name": "Robin Ward",
      "email": "robin.ward@gmail.com",
      "date": "2019-04-22T16:18:57Z"
    },
    "committer": {
      "name": "Robin Ward",
      "email": "robin.ward@gmail.com",
      "date": "2019-04-22T16:18:57Z"
    },
    "message": "FIX: `nil` error in list, incorrect count in reviewable pending",
    "tree": {
      "sha": "f01de5c5404b98e6d4a874f5d295dfbd756021ae",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/f01de5c5404b98e6d4a874f5d295dfbd756021ae"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
  "html_url": "https://github.com/discourse/discourse/commit/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f/comments",
  "author": {
    "login": "eviltrout",
    "id": 17538,
    "node_id": "MDQ6VXNlcjE3NTM4",
    "avatar_url": "https://avatars0.githubusercontent.com/u/17538?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eviltrout",
    "html_url": "https://github.com/eviltrout",
    "followers_url": "https://api.github.com/users/eviltrout/followers",
    "following_url": "https://api.github.com/users/eviltrout/following{/other_user}",
    "gists_url": "https://api.github.com/users/eviltrout/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eviltrout/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eviltrout/subscriptions",
    "organizations_url": "https://api.github.com/users/eviltrout/orgs",
    "repos_url": "https://api.github.com/users/eviltrout/repos",
    "events_url": "https://api.github.com/users/eviltrout/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eviltrout/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "eviltrout",
    "id": 17538,
    "node_id": "MDQ6VXNlcjE3NTM4",
    "avatar_url": "https://avatars0.githubusercontent.com/u/17538?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eviltrout",
    "html_url": "https://github.com/eviltrout",
    "followers_url": "https://api.github.com/users/eviltrout/followers",
    "following_url": "https://api.github.com/users/eviltrout/following{/other_user}",
    "gists_url": "https://api.github.com/users/eviltrout/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eviltrout/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eviltrout/subscriptions",
    "organizations_url": "https://api.github.com/users/eviltrout/orgs",
    "repos_url": "https://api.github.com/users/eviltrout/repos",
    "events_url": "https://api.github.com/users/eviltrout/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eviltrout/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3f9ec197e7377e002eb819210b3deade06e7c29d",
      "url": "https://api.github.com/repos/discourse/discourse/commits/3f9ec197e7377e002eb819210b3deade06e7c29d",
      "html_url": "https://github.com/discourse/discourse/commit/3f9ec197e7377e002eb819210b3deade06e7c29d"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 2,
    "deletions": 2
  },
  "files": [
    {
      "sha": "4a4e26d8e24133c63a68cd1ecd6a73b0b12a7641",
      "filename": "app/views/list/list.erb",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f/app/views/list/list.erb",
      "raw_url": "https://github.com/discourse/discourse/raw/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f/app/views/list/list.erb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/views/list/list.erb?ref=a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
      "patch": "@@ -75,7 +75,7 @@\n             <span class='posts' title='<%= t 'posts' %>'><%= t.posts_count %></span>\n           </td>\n           <td>\n-            <%= I18n.l(t.last_posted_at, format: :date_only) %>\n+            <%= I18n.l(t.last_posted_at || t.created_at, format: :date_only) %>\n           </td>\n         </tr>\n       <% end %>"
    },
    {
      "sha": "8d65064ddc39fb852600883262068d1bda88e4de",
      "filename": "lib/new_post_manager.rb",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f/lib/new_post_manager.rb",
      "raw_url": "https://github.com/discourse/discourse/raw/a8e3ac90a07a08d57daa4c1ead809fca1916dc4f/lib/new_post_manager.rb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/lib/new_post_manager.rb?ref=a8e3ac90a07a08d57daa4c1ead809fca1916dc4f",
      "patch": "@@ -233,7 +233,7 @@ def enqueue(reason = nil)\n     result.reviewable = reviewable\n     result.reason = reason if reason\n     result.check_errors(errors)\n-    result.pending_count = Reviewable.where(created_by: @user).pending.count\n+    result.pending_count = ReviewableQueuedPost.where(created_by: @user).pending.count\n     result\n   end\n "
    }
  ]
}
