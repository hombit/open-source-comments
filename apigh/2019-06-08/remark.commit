{
  "sha": "3a266111fa325e954c348d385802a2c12812241e",
  "node_id": "MDY6Q29tbWl0MTE0ODI5NTAzOjNhMjY2MTExZmEzMjVlOTU0YzM0OGQzODU4MDJhMmMxMjgxMjI0MWU=",
  "commit": {
    "author": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2019-06-05T21:33:59Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2019-06-05T21:33:59Z"
    },
    "message": "Merge pull request #338 from Reeywhaar/update-deps-2019-06\n\nUpdate deps 2019 06",
    "tree": {
      "sha": "cf55c94d49f4221d1946d345cb4050f94cc215a4",
      "url": "https://api.github.com/repos/umputun/remark/git/trees/cf55c94d49f4221d1946d345cb4050f94cc215a4"
    },
    "url": "https://api.github.com/repos/umputun/remark/git/commits/3a266111fa325e954c348d385802a2c12812241e",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc+DVHCRBK7hj4Ov3rIwAAdHIIADRPwzHF5Qheuh4VeKe5s3+3\nwUyBAZxOQNJnRsmhmI1PzrnOq4w/x8ZBb127akXB6nSpael+xGiKRU6ziodCmSzO\nBP99mESgOhxJdG6WJD2szpi9SbqAQUpMkPa6TSVq8+1RM+OiKmjQadpwN3ndod4a\nZnJyz376VaxkKDlFTewWU2cE1umYT88zWw+2T8i9ZOSlL07Q9CzMrpyQGZ95Oq6k\nTTEqN2FHgYjKW2O2y2fjnx3A7G7S3K5g3wdKbPUWWQk2UeFi/XFGxqXA6ShuPwo8\nPvrZspBUuDvvCB/JyGcgjaZLzxkZU4ZS56MikUec4BlvoYCw2YYDsQoEv7bqbMQ=\n=v1D9\n-----END PGP SIGNATURE-----\n",
      "payload": "tree cf55c94d49f4221d1946d345cb4050f94cc215a4\nparent 20764b7b4e6d623ce79a5962751035663eed4bb5\nparent 9140e87152a1c59955f921ab42affc7a0322ec3a\nauthor Umputun <umputun@gmail.com> 1559770439 -0500\ncommitter GitHub <noreply@github.com> 1559770439 -0500\n\nMerge pull request #338 from Reeywhaar/update-deps-2019-06\n\nUpdate deps 2019 06"
    }
  },
  "url": "https://api.github.com/repos/umputun/remark/commits/3a266111fa325e954c348d385802a2c12812241e",
  "html_url": "https://github.com/umputun/remark/commit/3a266111fa325e954c348d385802a2c12812241e",
  "comments_url": "https://api.github.com/repos/umputun/remark/commits/3a266111fa325e954c348d385802a2c12812241e/comments",
  "author": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "20764b7b4e6d623ce79a5962751035663eed4bb5",
      "url": "https://api.github.com/repos/umputun/remark/commits/20764b7b4e6d623ce79a5962751035663eed4bb5",
      "html_url": "https://github.com/umputun/remark/commit/20764b7b4e6d623ce79a5962751035663eed4bb5"
    },
    {
      "sha": "9140e87152a1c59955f921ab42affc7a0322ec3a",
      "url": "https://api.github.com/repos/umputun/remark/commits/9140e87152a1c59955f921ab42affc7a0322ec3a",
      "html_url": "https://github.com/umputun/remark/commit/9140e87152a1c59955f921ab42affc7a0322ec3a"
    }
  ],
  "stats": {
    "total": 3014,
    "additions": 1793,
    "deletions": 1221
  },
  "files": [
    {
      "sha": "4e008338474119e39bbc15450de63dbbfcf865de",
      "filename": "frontend/app/common/api.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/app/common/api.ts",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/app/common/api.ts",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/app/common/api.ts?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -188,9 +188,10 @@ export const removeComment = (id: Comment['id']) =>\n export const removeMyComment = (id: Comment['id']): Promise<void> =>\n   fetcher.put({\n     url: `/comment/${id}?url=${url}`,\n+    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n     body: {\n       delete: true,\n-    },\n+    } as object,\n     withCredentials: true,\n   });\n "
    },
    {
      "sha": "d3f182e31033bbb22a5357187dfec7d6888669d7",
      "filename": "frontend/app/last-comments.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/app/last-comments.tsx",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/app/last-comments.tsx",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/app/last-comments.tsx?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -3,6 +3,7 @@\n declare let remark_config: LastCommentsConfig;\n \n import loadPolyfills from '@app/common/polyfills';\n+import '@app/utils/patchPreactContext';\n import { h, render } from 'preact';\n import 'preact/debug';\n import { getLastComments } from './common/api';"
    },
    {
      "sha": "9851c5d7a0263ca6926d053da8c26b2e33acb5e7",
      "filename": "frontend/app/remark.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/app/remark.tsx",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/app/remark.tsx",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/app/remark.tsx?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -1,6 +1,7 @@\n /* eslint-disable no-console */\n /** @jsx h */\n import loadPolyfills from '@app/common/polyfills';\n+import '@app/utils/patchPreactContext';\n import { h, render } from 'preact';\n import 'preact/debug';\n "
    },
    {
      "sha": "a148a06d96a290135ccef1b7cb859cce7e1754e3",
      "filename": "frontend/app/utils/patchPreactContext.js",
      "status": "added",
      "additions": 7,
      "deletions": 0,
      "changes": 7,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/app/utils/patchPreactContext.js",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/app/utils/patchPreactContext.js",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/app/utils/patchPreactContext.js?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -0,0 +1,7 @@\n+// hack for https://github.com/developit/preact-compat/issues/475\n+// should be changed when preact@10 is available\n+\n+import React from 'preact';\n+import { createContext } from 'preact-context';\n+\n+React.createContext = createContext;"
    },
    {
      "sha": "fc67e9db4ed118bea8f0b25d946bbd0e181ec3cc",
      "filename": "frontend/package-lock.json",
      "status": "modified",
      "additions": 1747,
      "deletions": 1187,
      "changes": 2934,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/package-lock.json",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/package-lock.json",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/package-lock.json?ref=3a266111fa325e954c348d385802a2c12812241e"
    },
    {
      "sha": "30cf80257cce5cfbabed9df19af77c11d7ac4c43",
      "filename": "frontend/package.json",
      "status": "modified",
      "additions": 31,
      "deletions": 30,
      "changes": 61,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/package.json",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/package.json",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/package.json?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -20,7 +20,7 @@\n   \"lint-staged\": {\n     \"linters\": {\n       \"./**/*.{ts,tsx,js,jsx}\": [\n-        \"eslint --fix\",\n+        \"eslint --fix --max-warnings=0\",\n         \"git add\"\n       ],\n       \"./**/*.scss\": [\n@@ -30,36 +30,36 @@\n     }\n   },\n   \"devDependencies\": {\n-    \"@babel/core\": \"^7.4.3\",\n+    \"@babel/core\": \"^7.4.5\",\n     \"@babel/plugin-syntax-dynamic-import\": \"^7.2.0\",\n     \"@babel/plugin-transform-react-jsx\": \"^7.3.0\",\n-    \"@babel/preset-env\": \"^7.4.3\",\n+    \"@babel/preset-env\": \"^7.4.5\",\n     \"@babel/preset-react\": \"^7.0.0\",\n     \"@types/core-js\": \"^2.5.0\",\n-    \"@types/jest\": \"^24.0.11\",\n-    \"@types/node\": \"^11.13.4\",\n-    \"@typescript-eslint/eslint-plugin\": \"^1.6.0\",\n-    \"@typescript-eslint/parser\": \"^1.6.0\",\n-    \"autoprefixer\": \"^9.5.1\",\n+    \"@types/jest\": \"^24.0.13\",\n+    \"@types/node\": \"^12.0.4\",\n+    \"@typescript-eslint/eslint-plugin\": \"^1.9.0\",\n+    \"@typescript-eslint/parser\": \"^1.9.0\",\n+    \"autoprefixer\": \"^9.6.0\",\n     \"babel-eslint\": \"^10.0.1\",\n-    \"babel-jest\": \"^24.7.1\",\n-    \"babel-loader\": \"^8.0.5\",\n-    \"clean-webpack-plugin\": \"^2.0.1\",\n-    \"copy-webpack-plugin\": \"^5.0.2\",\n+    \"babel-jest\": \"^24.8.0\",\n+    \"babel-loader\": \"^8.0.6\",\n+    \"clean-webpack-plugin\": \"^3.0.0\",\n+    \"copy-webpack-plugin\": \"^5.0.3\",\n     \"css-loader\": \"^2.1.1\",\n-    \"document-register-element\": \"^1.13.1\",\n+    \"document-register-element\": \"^1.13.2\",\n     \"eslint\": \"^5.16.0\",\n-    \"eslint-config-prettier\": \"^4.1.0\",\n+    \"eslint-config-prettier\": \"^4.3.0\",\n     \"eslint-plugin-jsx-a11y\": \"^6.2.1\",\n-    \"eslint-plugin-prettier\": \"^3.0.1\",\n-    \"eslint-plugin-react\": \"^7.12.4\",\n-    \"file-loader\": \"^3.0.1\",\n+    \"eslint-plugin-prettier\": \"^3.1.0\",\n+    \"eslint-plugin-react\": \"^7.13.0\",\n+    \"file-loader\": \"^4.0.0\",\n     \"html-webpack-plugin\": \"^3.2.0\",\n-    \"husky\": \"^1.3.1\",\n-    \"jest\": \"^24.7.1\",\n+    \"husky\": \"^2.4.0\",\n+    \"jest\": \"^24.8.0\",\n     \"jest-localstorage-mock\": \"^2.4.0\",\n-    \"lint-staged\": \"^8.1.5\",\n-    \"mini-css-extract-plugin\": \"^0.6.0\",\n+    \"lint-staged\": \"^8.1.7\",\n+    \"mini-css-extract-plugin\": \"^0.7.0\",\n     \"npm-run-all\": \"^4.1.5\",\n     \"postcss-calc\": \"^7.0.1\",\n     \"postcss-csso\": \"^3.0.0\",\n@@ -69,22 +69,23 @@\n     \"postcss-simple-vars\": \"^5.0.2\",\n     \"postcss-url\": \"^8.0.0\",\n     \"postcss-wrap\": \"0.0.4\",\n-    \"prettier\": \"^1.16.4\",\n+    \"preact-context\": \"^1.1.3\",\n+    \"prettier\": \"^1.17.1\",\n     \"style-loader\": \"^0.23.1\",\n     \"ts-jest\": \"^24.0.2\",\n-    \"ts-loader\": \"^5.3.3\",\n-    \"typescript\": \"^3.4.3\",\n-    \"webpack\": \"^4.29.6\",\n+    \"ts-loader\": \"^6.0.2\",\n+    \"typescript\": \"^3.5.1\",\n+    \"webpack\": \"^4.33.0\",\n     \"webpack-bundle-analyzer\": \"^3.3.2\",\n-    \"webpack-cli\": \"^3.3.0\",\n-    \"webpack-dev-server\": \"^3.3.1\",\n+    \"webpack-cli\": \"^3.3.2\",\n+    \"webpack-dev-server\": \"^3.6.0\",\n     \"whatwg-fetch\": \"^3.0.0\"\n   },\n   \"dependencies\": {\n-    \"@github/markdown-toolbar-element\": \"^0.2.0\",\n-    \"@webcomponents/custom-elements\": \"^1.2.2\",\n+    \"@github/markdown-toolbar-element\": \"^1.0.3\",\n+    \"@webcomponents/custom-elements\": \"^1.2.4\",\n     \"bem-react-helper\": \"^1.1.2\",\n-    \"core-js\": \"^3.0.1\",\n+    \"core-js\": \"^3.1.3\",\n     \"focus-visible\": \"^4.1.5\",\n     \"preact\": \"^8.4.2\",\n     \"preact-redux\": \"^2.0.3\","
    },
    {
      "sha": "c3c43326770d0aa2e8851b34c96a0468b314d8e9",
      "filename": "frontend/tsconfig.json",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/tsconfig.json",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/tsconfig.json",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/tsconfig.json?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -1,5 +1,6 @@\n {\n   \"compilerOptions\": {\n+\t\t\"incremental\": true,\n     \"lib\": [\"es2017\", \"dom\"],\n     \"target\": \"es2017\",\n     \"jsx\": \"react\","
    },
    {
      "sha": "5a6dc61c520d62884eedfad247b20a19ff528872",
      "filename": "frontend/webpack.config.js",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/umputun/remark/blob/3a266111fa325e954c348d385802a2c12812241e/frontend/webpack.config.js",
      "raw_url": "https://github.com/umputun/remark/raw/3a266111fa325e954c348d385802a2c12812241e/frontend/webpack.config.js",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/frontend/webpack.config.js?ref=3a266111fa325e954c348d385802a2c12812241e",
      "patch": "@@ -4,7 +4,7 @@ const path = require('path');\n \n const webpack = require('webpack');\n const MiniCssExtractPlugin = require('mini-css-extract-plugin');\n-const Clean = require('clean-webpack-plugin');\n+const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n const Copy = require('copy-webpack-plugin');\n const Html = require('html-webpack-plugin');\n const Define = webpack.DefinePlugin;\n@@ -29,7 +29,7 @@ const commonStyleLoaders = [\n         require('postcss-simple-vars'),\n         require('postcss-nested'),\n         require('postcss-calc'),\n-        require('autoprefixer')({ browsers: ['> 1%'] }),\n+        require('autoprefixer')({ overrideBrowserslist: ['> 1%'] }),\n         require('postcss-url')({ url: 'inline', maxSize: 5 }),\n         require('postcss-wrap')({ selector: `#${NODE_ID}` }),\n         require('postcss-csso'),\n@@ -115,7 +115,7 @@ module.exports = () => ({\n     ],\n   },\n   plugins: [\n-    new Clean(),\n+    new CleanWebpackPlugin(),\n     new Define({\n       'process.env.NODE_ENV': JSON.stringify(env),\n       'process.env.REMARK_NODE': JSON.stringify(NODE_ID),"
    }
  ]
}
