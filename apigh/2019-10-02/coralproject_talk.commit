{
  "sha": "3a4eae87adece7810f85416d7d57fb823b413dfc",
  "node_id": "MDY6Q29tbWl0NzI0NTQyNDI6M2E0ZWFlODdhZGVjZTc4MTBmODU0MTZkN2Q1N2ZiODIzYjQxM2RmYw==",
  "commit": {
    "author": {
      "name": "Wyatt Johnson",
      "email": "wyattjoh@gmail.com",
      "date": "2019-10-02T16:21:49Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2019-10-02T16:21:49Z"
    },
    "message": "[CORL-661] Encode Story ID (#2614)\n\n* fix: encode story ID's for URL\r\n\r\n* fix: use shared method",
    "tree": {
      "sha": "19bfbee309235928605c077e70f3081bc4813df7",
      "url": "https://api.github.com/repos/coralproject/talk/git/trees/19bfbee309235928605c077e70f3081bc4813df7"
    },
    "url": "https://api.github.com/repos/coralproject/talk/git/commits/3a4eae87adece7810f85416d7d57fb823b413dfc",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdlM6dCRBK7hj4Ov3rIwAAdHIIAJ9yhx7AixNf/Jzgcxx9++7u\nOfgPYuP4XQvo7gDDn9G8vgEYx7N68+LoZmJ1d/BwJCwXODuuEScJObvdO29DyOal\n/FxFbP2Ngd+xXKK9vHCjaHMYw9hyPNM++t/OlZNGPsYup5/4fRyAHYNJk7WTL2kG\njfwM/V81pmBooUlqg3jJvpVJVCmUd0TWSD8/meBsr9V2SLVGB56dNEEhtoiFhtiy\nFIk0IbYLHxwcmKt9eIwjpmERdMJ7nAxtOdZE9WpgNdUGJBBiozYJrCTMRzIhTndg\notOxG1QTpSnhDaXS7omIu9aR4XyE1znLv34J3YI4fPdIFFoxMD8mhIr72mtB7xM=\n=9cex\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 19bfbee309235928605c077e70f3081bc4813df7\nparent fa3d442b36e27f8e42e17ba022c2b74900397b01\nauthor Wyatt Johnson <wyattjoh@gmail.com> 1570033309 +0000\ncommitter GitHub <noreply@github.com> 1570033309 +0000\n\n[CORL-661] Encode Story ID (#2614)\n\n* fix: encode story ID's for URL\r\n\r\n* fix: use shared method\r\n"
    }
  },
  "url": "https://api.github.com/repos/coralproject/talk/commits/3a4eae87adece7810f85416d7d57fb823b413dfc",
  "html_url": "https://github.com/coralproject/talk/commit/3a4eae87adece7810f85416d7d57fb823b413dfc",
  "comments_url": "https://api.github.com/repos/coralproject/talk/commits/3a4eae87adece7810f85416d7d57fb823b413dfc/comments",
  "author": {
    "login": "wyattjoh",
    "id": 633002,
    "node_id": "MDQ6VXNlcjYzMzAwMg==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/633002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wyattjoh",
    "html_url": "https://github.com/wyattjoh",
    "followers_url": "https://api.github.com/users/wyattjoh/followers",
    "following_url": "https://api.github.com/users/wyattjoh/following{/other_user}",
    "gists_url": "https://api.github.com/users/wyattjoh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wyattjoh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wyattjoh/subscriptions",
    "organizations_url": "https://api.github.com/users/wyattjoh/orgs",
    "repos_url": "https://api.github.com/users/wyattjoh/repos",
    "events_url": "https://api.github.com/users/wyattjoh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wyattjoh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "fa3d442b36e27f8e42e17ba022c2b74900397b01",
      "url": "https://api.github.com/repos/coralproject/talk/commits/fa3d442b36e27f8e42e17ba022c2b74900397b01",
      "html_url": "https://github.com/coralproject/talk/commit/fa3d442b36e27f8e42e17ba022c2b74900397b01"
    }
  ],
  "stats": {
    "total": 5,
    "additions": 3,
    "deletions": 2
  },
  "files": [
    {
      "sha": "a8707b1e089ed68f17fdc30b91df66d0a9305987",
      "filename": "src/core/client/admin/helpers/getModerationLink.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/3a4eae87adece7810f85416d7d57fb823b413dfc/src/core/client/admin/helpers/getModerationLink.ts",
      "raw_url": "https://github.com/coralproject/talk/raw/3a4eae87adece7810f85416d7d57fb823b413dfc/src/core/client/admin/helpers/getModerationLink.ts",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/admin/helpers/getModerationLink.ts?ref=3a4eae87adece7810f85416d7d57fb823b413dfc",
      "patch": "@@ -5,6 +5,6 @@ export default function getModerationLink(\n   storyID?: string | null\n ) {\n   const queuePart = queue && queue !== \"default\" ? `/${queue}` : \"\";\n-  const storyPart = storyID ? `/${storyID}` : \"\";\n+  const storyPart = storyID ? `/${encodeURIComponent(storyID)}` : \"\";\n   return `${basePath}${queuePart}${storyPart}`;\n }"
    },
    {
      "sha": "28eace9776a5a6790f1746691618dc8d0c6c63ff",
      "filename": "src/core/client/admin/routes/Moderate/ModerateSearchBar/ModerateSearchBarContainer.tsx",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/coralproject/talk/blob/3a4eae87adece7810f85416d7d57fb823b413dfc/src/core/client/admin/routes/Moderate/ModerateSearchBar/ModerateSearchBarContainer.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/3a4eae87adece7810f85416d7d57fb823b413dfc/src/core/client/admin/routes/Moderate/ModerateSearchBar/ModerateSearchBarContainer.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/admin/routes/Moderate/ModerateSearchBar/ModerateSearchBarContainer.tsx?ref=3a4eae87adece7810f85416d7d57fb823b413dfc",
      "patch": "@@ -10,6 +10,7 @@ import React, {\n import { graphql } from \"react-relay\";\n \n import { ModerateSearchBarContainer_story as ModerationQueuesData } from \"coral-admin/__generated__/ModerateSearchBarContainer_story.graphql\";\n+import { getModerationLink } from \"coral-admin/helpers\";\n import { useEffectWhenChanged } from \"coral-framework/hooks\";\n import { useFetch, withFragmentContainer } from \"coral-framework/lib/relay\";\n import { PropTypesOf } from \"coral-framework/types\";\n@@ -160,7 +161,7 @@ function useSearchOptions(\n           nextSearchOptions.push({\n             element: (\n               <Option\n-                href={`/admin/moderate/${e.node.id}`}\n+                href={getModerationLink(\"default\", e.node.id)}\n                 details={e.node.metadata && e.node.metadata.author}\n               >\n                 <GoToAriaInfo /> {e.node.metadata && e.node.metadata.title}"
    }
  ]
}
