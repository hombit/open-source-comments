{
  "sha": "6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
  "node_id": "MDY6Q29tbWl0NzI0NTQyNDI6NjA1N2VkY2IwN2Q0YTRmNDNkODcyYjMzMTAwYjRkZGU4ZWFjM2M2ZQ==",
  "commit": {
    "author": {
      "name": "Wyatt Johnson",
      "email": "wyattjoh@gmail.com",
      "date": "2020-01-10T01:10:15Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-01-10T01:10:15Z"
    },
    "message": "Heroku Build Fix (#2784)\n\n* fix: pinned node and npm versions\r\n\r\n* fix: addressed issues with package upgrades",
    "tree": {
      "sha": "7cde428402d8cde43203800da5ae9b133d861fe9",
      "url": "https://api.github.com/repos/coralproject/talk/git/trees/7cde428402d8cde43203800da5ae9b133d861fe9"
    },
    "url": "https://api.github.com/repos/coralproject/talk/git/commits/6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeF873CRBK7hj4Ov3rIwAAdHIIAJ2T6obglPjrmAC27WyJIg44\nGeqakjRQ1phFqHXagNxayWRP31H1vfcr2Ud7OOLFlQg8uWBnoSP/dFGGOwl/D672\nD3b7SLVDxCkZkemrmiD0DZ/ie0VcspAOfBD4ACbEJvYrIuUHiVJwx6Qj9bvj78hY\nWNkGZ5nrsNvQ8fkusFqgSZUgI+ryPSL9C3oOoCHR9xUVg+GQ/EZf2gHJlFjgDn/I\n6nbwfjaroIv3I/X5HW8vBTFFFJZdvDyZKOLd12XgejBNqhZ5M5rleCK/cFWtxr5c\nbgd3rTrFWnxf9TfLAMWkFvKgrhcs0oZB7GzVjMwk6qDgQ2zQOtSa/Uw+uuCaxYY=\n=0KnS\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 7cde428402d8cde43203800da5ae9b133d861fe9\nparent 852466e9a1cadb9d0cb3e1bb0be33267a3bd0dca\nauthor Wyatt Johnson <wyattjoh@gmail.com> 1578618615 +0000\ncommitter GitHub <noreply@github.com> 1578618615 +0000\n\nHeroku Build Fix (#2784)\n\n* fix: pinned node and npm versions\r\n\r\n* fix: addressed issues with package upgrades\r\n"
    }
  },
  "url": "https://api.github.com/repos/coralproject/talk/commits/6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
  "html_url": "https://github.com/coralproject/talk/commit/6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
  "comments_url": "https://api.github.com/repos/coralproject/talk/commits/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/comments",
  "author": {
    "login": "wyattjoh",
    "id": 633002,
    "node_id": "MDQ6VXNlcjYzMzAwMg==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/633002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wyattjoh",
    "html_url": "https://github.com/wyattjoh",
    "followers_url": "https://api.github.com/users/wyattjoh/followers",
    "following_url": "https://api.github.com/users/wyattjoh/following{/other_user}",
    "gists_url": "https://api.github.com/users/wyattjoh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wyattjoh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wyattjoh/subscriptions",
    "organizations_url": "https://api.github.com/users/wyattjoh/orgs",
    "repos_url": "https://api.github.com/users/wyattjoh/repos",
    "events_url": "https://api.github.com/users/wyattjoh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wyattjoh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "852466e9a1cadb9d0cb3e1bb0be33267a3bd0dca",
      "url": "https://api.github.com/repos/coralproject/talk/commits/852466e9a1cadb9d0cb3e1bb0be33267a3bd0dca",
      "html_url": "https://github.com/coralproject/talk/commit/852466e9a1cadb9d0cb3e1bb0be33267a3bd0dca"
    }
  ],
  "stats": {
    "total": 1819,
    "additions": 605,
    "deletions": 1214
  },
  "files": [
    {
      "sha": "bca768d3e585eb1c2710f86681beffc8edc885b8",
      "filename": "Dockerfile",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/coralproject/talk/blob/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/Dockerfile",
      "raw_url": "https://github.com/coralproject/talk/raw/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/Dockerfile",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/Dockerfile?ref=6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
      "patch": "@@ -7,9 +7,6 @@ RUN apk --no-cache add git python\n RUN mkdir -p /usr/src/app\n WORKDIR /usr/src/app\n \n-# Setup the environment for production.\n-ENV NODE_ENV production\n-\n # Bundle application source.\n COPY . /usr/src/app\n \n@@ -19,15 +16,13 @@ RUN mkdir -p dist/core/common/__generated__ && \\\n   echo \"{\\\"revision\\\": \\\"${REVISION_HASH}\\\"}\" > dist/core/common/__generated__/revision.json\n \n # Install build static assets and clear caches.\n-RUN NODE_ENV=development npm install && \\\n-  npm run generate && \\\n+RUN npm ci && \\\n   npm run build && \\\n   npm prune --production\n \n # Setup the environment\n-ENV PATH /usr/src/app/bin:$PATH\n+ENV NODE_ENV production\n ENV PORT 5000\n EXPOSE 5000\n-ENV NODE_ENV production\n \n CMD [\"npm\", \"run\", \"start\"]"
    },
    {
      "sha": "9ace9ebc271d938c170cf494faa754c7741637a4",
      "filename": "package-lock.json",
      "status": "modified",
      "additions": 577,
      "deletions": 1182,
      "changes": 1759,
      "blob_url": "https://github.com/coralproject/talk/blob/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/package-lock.json",
      "raw_url": "https://github.com/coralproject/talk/raw/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/package-lock.json",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/package-lock.json?ref=6057edcb07d4a4f43d872b33100b4dde8eac3c6e"
    },
    {
      "sha": "1972f2111dbc837263669e639a4eab654824d938",
      "filename": "package.json",
      "status": "modified",
      "additions": 26,
      "deletions": 25,
      "changes": 51,
      "blob_url": "https://github.com/coralproject/talk/blob/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/package.json",
      "raw_url": "https://github.com/coralproject/talk/raw/6057edcb07d4a4f43d872b33100b4dde8eac3c6e/package.json",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/package.json?ref=6057edcb07d4a4f43d872b33100b4dde8eac3c6e",
      "patch": "@@ -11,8 +11,8 @@\n     \"url\": \"git://github.com/coralproject/talk.git\"\n   },\n   \"engines\": {\n-    \"node\": \">=12.0.0\",\n-    \"npm\": \">=6.9.0\"\n+    \"node\": \"^12\",\n+    \"npm\": \"^6\"\n   },\n   \"bugs\": \"https://github.com/coralproject/talk/issues\",\n   \"contributors\": [\n@@ -58,27 +58,26 @@\n   \"license\": \"Apache-2.0\",\n   \"dependencies\": {\n     \"@coralproject/bunyan-prettystream\": \"^0.1.4\",\n-    \"@fluent/bundle\": \"^0.14.1\",\n+    \"@fluent/bundle\": \"^0.14.0\",\n     \"@fluent/dom\": \"^0.6.0\",\n     \"@metascraper/helpers\": \"^5.7.21\",\n-    \"@types/prettier\": \"^1.19.0\",\n     \"abort-controller\": \"^3.0.0\",\n-    \"akismet-api\": \"^5.0.0\",\n-    \"apollo-server-express\": \"^2.9.15\",\n+    \"akismet-api\": \"^4.2.0\",\n+    \"apollo-server-express\": \"^2.8.1\",\n     \"archiver\": \"^3.0.3\",\n     \"basic-auth\": \"^2.0.1\",\n     \"bcryptjs\": \"^2.4.3\",\n-    \"bull\": \"^3.12.1\",\n+    \"bull\": \"^3.8.1\",\n     \"bunyan\": \"^1.8.12\",\n     \"cheerio\": \"^1.0.0-rc.2\",\n     \"consolidate\": \"0.14.0\",\n     \"content-security-policy-builder\": \"^2.0.0\",\n-    \"convict\": \"^5.2.0\",\n+    \"convict\": \"^4.3.1\",\n     \"cookie\": \"^0.4.0\",\n     \"cookie-parser\": \"^1.4.4\",\n-    \"cors\": \"^2.8.5\",\n-    \"cron\": \"^1.7.2\",\n-    \"csv-stringify\": \"^5.3.6\",\n+    \"cors\": \"^2.8.4\",\n+    \"cron\": \"^1.7.1\",\n+    \"csv-stringify\": \"^5.3.0\",\n     \"dataloader\": \"^1.4.0\",\n     \"dompurify\": \"^2.0.7\",\n     \"dotenv\": \"^6.0.0\",\n@@ -92,18 +91,19 @@\n     \"graphql-config\": \"^2.0.1\",\n     \"graphql-extensions\": \"^0.2.1\",\n     \"graphql-fields\": \"^1.1.0\",\n+    \"graphql-import\": \"^0.7.1\",\n     \"graphql-playground-html\": \"^1.6.0\",\n-    \"graphql-redis-subscriptions\": \"^2.1.2\",\n+    \"graphql-redis-subscriptions\": \"^2.1.0\",\n     \"graphql-subscriptions\": \"^1.1.0\",\n     \"graphql-tools\": \"^3.0.5\",\n     \"helmet\": \"^3.21.2\",\n-    \"html-minifier\": \"^4.0.0\",\n-    \"html-to-text\": \"^5.1.1\",\n-    \"ioredis\": \"^4.14.1\",\n-    \"joi\": \"^14.3.1\",\n-    \"jsdom\": \"^15.2.1\",\n+    \"html-minifier\": \"^3.5.21\",\n+    \"html-to-text\": \"^4.0.0\",\n+    \"ioredis\": \"^4.9.0\",\n+    \"joi\": \"^13.4.0\",\n+    \"jsdom\": \"^15.0.0\",\n     \"jsonwebtoken\": \"^8.5.1\",\n-    \"juice\": \"^6.0.0\",\n+    \"juice\": \"^5.2.0\",\n     \"jwks-rsa\": \"^1.6.0\",\n     \"keymaster\": \"^1.6.2\",\n     \"linkifyjs\": \"^2.1.8\",\n@@ -118,7 +118,7 @@\n     \"mongodb-core\": \"^3.2.7\",\n     \"ms\": \"^2.1.1\",\n     \"node-fetch\": \"^2.6.0\",\n-    \"nodemailer\": \"^6.4.2\",\n+    \"nodemailer\": \"^4.6.7\",\n     \"nunjucks\": \"^3.1.3\",\n     \"on-finished\": \"^2.3.0\",\n     \"passport\": \"^0.4.1\",\n@@ -158,7 +158,7 @@\n     \"@types/archiver\": \"^3.0.0\",\n     \"@types/basic-auth\": \"^1.1.2\",\n     \"@types/bcryptjs\": \"^2.4.1\",\n-    \"@types/bull\": \"^3.10.6\",\n+    \"@types/bull\": \"^3.5.12\",\n     \"@types/bunyan\": \"^1.8.4\",\n     \"@types/case-sensitive-paths-webpack-plugin\": \"^2.1.2\",\n     \"@types/cheerio\": \"^0.22.8\",\n@@ -170,10 +170,10 @@\n     \"@types/convict\": \"^4.2.0\",\n     \"@types/cookie\": \"^0.3.3\",\n     \"@types/cookie-parser\": \"^1.4.1\",\n-    \"@types/cors\": \"^2.8.6\",\n+    \"@types/cors\": \"^2.8.4\",\n     \"@types/cron\": \"^1.7.1\",\n     \"@types/cross-spawn\": \"^6.0.0\",\n-    \"@types/dompurify\": \"^2.0.1\",\n+    \"@types/dompurify\": \"0.0.33\",\n     \"@types/dotenv\": \"^4.0.3\",\n     \"@types/enzyme\": \"^3.1.15\",\n     \"@types/enzyme-adapter-react-16\": \"^1.0.3\",\n@@ -187,10 +187,10 @@\n     \"@types/html-minifier\": \"^3.5.2\",\n     \"@types/html-to-text\": \"^1.4.31\",\n     \"@types/html-webpack-plugin\": \"^3.2.0\",\n-    \"@types/ioredis\": \"^4.14.3\",\n+    \"@types/ioredis\": \"^4.0.10\",\n     \"@types/jest\": \"^24.0.23\",\n     \"@types/jest-axe\": \"^3.2.1\",\n-    \"@types/joi\": \"^14.3.4\",\n+    \"@types/joi\": \"^13.0.8\",\n     \"@types/jsdom\": \"^12.2.3\",\n     \"@types/jsonwebtoken\": \"^8.3.5\",\n     \"@types/linkifyjs\": \"^2.1.1\",\n@@ -203,7 +203,7 @@\n     \"@types/ms\": \"^0.7.30\",\n     \"@types/node\": \"^10.5.2\",\n     \"@types/node-fetch\": \"^2.5.3\",\n-    \"@types/nodemailer\": \"^6.4.0\",\n+    \"@types/nodemailer\": \"^4.6.2\",\n     \"@types/nunjucks\": \"^3.1.1\",\n     \"@types/object-diff\": \"0.0.0\",\n     \"@types/on-finished\": \"^2.3.1\",\n@@ -213,6 +213,7 @@\n     \"@types/passport-oauth2\": \"^1.4.5\",\n     \"@types/passport-strategy\": \"^0.2.33\",\n     \"@types/permit\": \"^0.2.1\",\n+    \"@types/prettier\": \"^1.19.0\",\n     \"@types/prop-types\": \"^15.5.8\",\n     \"@types/react\": \"^16.8.15\",\n     \"@types/react-axe\": \"^3.1.0\","
    }
  ]
}
