{
  "sha": "b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
  "node_id": "MDY6Q29tbWl0MTE0ODI5NTAzOmIyMTc2YTE3NWQ0NDEyZjE3ZDlhZjNiNmI3YzZhZGRiOTlmOGU4NmY=",
  "commit": {
    "author": {
      "name": "Stas",
      "email": "smolevich90@gmail.com",
      "date": "2020-01-13T16:56:56Z"
    },
    "committer": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2020-01-13T16:56:56Z"
    },
    "message": "Use golangci lint action (#549)\n\n* Use action insted download binary file\r\n\r\n* Update ci\r\n\r\n* Add config option\r\n\r\n* Use pre-built docker image for golangci-lint-action\r\n\r\n* Remove pre build docker action\r\n\r\n* Update action name\r\n\r\n* Remove env\r\n\r\n* Update ci file\r\n\r\n* Add working directory\r\n\r\n* Change GITHUB_WORKSPACE\r\n\r\n* Update ci file\r\n\r\n* Fix ci\r\n\r\n* Comment golangci-lint-action\r\n\r\n* Update working-directory\r\n\r\n* Fix path\r\n\r\n* Update ci-build.yml\r\n\r\n* Update path\r\n\r\n* Revert changes\r\n\r\n* Update .golangci.yml\r\n\r\n* Add new path for triggers ci\r\n\r\n* Separate steps\r\n\r\n* Add working-directory\r\n\r\n* Add test pwd and ls\r\n\r\n* Fix working directory\r\n\r\n* Update script for linting in Dockerfile\r\n\r\n* Move .golangci.yml to dir backend\r\n\r\n* Delete unnecessary word\r\n\r\n* Remove multiline string\r\n\r\n* Reformat multiline strings to single\r\n\r\n* Update disable-all option",
    "tree": {
      "sha": "2d46c99225de25a7596cf03bbb18843da8bfaf17",
      "url": "https://api.github.com/repos/umputun/remark/git/trees/2d46c99225de25a7596cf03bbb18843da8bfaf17"
    },
    "url": "https://api.github.com/repos/umputun/remark/git/commits/b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/umputun/remark/commits/b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
  "html_url": "https://github.com/umputun/remark/commit/b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
  "comments_url": "https://api.github.com/repos/umputun/remark/commits/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/comments",
  "author": {
    "login": "Smolevich",
    "id": 7188867,
    "node_id": "MDQ6VXNlcjcxODg4Njc=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/7188867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Smolevich",
    "html_url": "https://github.com/Smolevich",
    "followers_url": "https://api.github.com/users/Smolevich/followers",
    "following_url": "https://api.github.com/users/Smolevich/following{/other_user}",
    "gists_url": "https://api.github.com/users/Smolevich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Smolevich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Smolevich/subscriptions",
    "organizations_url": "https://api.github.com/users/Smolevich/orgs",
    "repos_url": "https://api.github.com/users/Smolevich/repos",
    "events_url": "https://api.github.com/users/Smolevich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Smolevich/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars0.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3447afffdd5fd8d3133add6f9e869d40d5b0ed4c",
      "url": "https://api.github.com/repos/umputun/remark/commits/3447afffdd5fd8d3133add6f9e869d40d5b0ed4c",
      "html_url": "https://github.com/umputun/remark/commit/3447afffdd5fd8d3133add6f9e869d40d5b0ed4c"
    }
  ],
  "stats": {
    "total": 55,
    "additions": 35,
    "deletions": 20
  },
  "files": [
    {
      "sha": "924debe21a03dfea8f90830b6b42a88aad9dd066",
      "filename": ".github/workflows/ci-build.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/umputun/remark/blob/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/.github/workflows/ci-build.yml",
      "raw_url": "https://github.com/umputun/remark/raw/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/.github/workflows/ci-build.yml",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/.github/workflows/ci-build.yml?ref=b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
      "patch": "@@ -25,7 +25,7 @@ jobs:\n     runs-on: ubuntu-latest\n \n     steps:\n-      - uses: actions/checkout@v1\n+      - uses: actions/checkout@v2\n \n       - name: build docker image\n         run: docker build --build-arg SKIP_BACKEND_TEST=true --build-arg SKIP_FRONTEND_TEST=true --build-arg CI=github ."
    },
    {
      "sha": "04d0aef8e85b8d34de1d478ff78f6e9f24b35297",
      "filename": ".github/workflows/ci-test-backend.yml",
      "status": "modified",
      "additions": 11,
      "deletions": 15,
      "changes": 26,
      "blob_url": "https://github.com/umputun/remark/blob/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/.github/workflows/ci-test-backend.yml",
      "raw_url": "https://github.com/umputun/remark/raw/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/.github/workflows/ci-test-backend.yml",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/.github/workflows/ci-test-backend.yml?ref=b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
      "patch": "@@ -8,18 +8,20 @@ on:\n       - '.github/workflows/ci-test-backend.yml'\n       - 'backend/**'\n       - '!backend/scripts/**'\n+      - '.golangci.yml'\n   pull_request:\n     paths:\n       - '.github/workflows/ci-test-backend.yml'\n       - 'backend/**'\n       - '!backend/scripts/**'\n+      - '.golangci.yml'\n \n jobs:\n   backend:\n     runs-on: ubuntu-latest\n \n     steps:\n-      - uses: actions/checkout@v1\n+      - uses: actions/checkout@v2\n \n       - name: debug if needed\n         run: |\n@@ -51,21 +53,15 @@ jobs:\n           go get -u github.com/mattn/goveralls\n \n       - name: run backend linters\n-        run: |\n-          cd backend\n-          $GITHUB_WORKSPACE/golangci-lint run --out-format=tab --disable-all --tests=false --enable=unconvert \\\n-            --enable=megacheck --enable=structcheck --enable=gas --enable=gocyclo --enable=dupl --enable=misspell \\\n-            --enable=unparam --enable=varcheck --enable=deadcode --enable=typecheck \\\n-            --enable=ineffassign --enable=varcheck ./... ;\n-          cd _example/memory_store\n-          $GITHUB_WORKSPACE/golangci-lint run --out-format=tab --disable-all --tests=false --enable=unconvert \\\n-            --enable=megacheck --enable=structcheck --enable=gas --enable=gocyclo --enable=dupl --enable=misspell \\\n-            --enable=unparam --enable=varcheck --enable=deadcode --enable=typecheck \\\n-            --enable=ineffassign --enable=varcheck ./... ;\n+        run: $GITHUB_WORKSPACE/golangci-lint run --config .golangci.yml ./...\n+        working-directory: backend\n+\n+      - name: run linters for examples\n+        run: $GITHUB_WORKSPACE/golangci-lint run --config ${GITHUB_WORKSPACE}/backend/.golangci.yml ./...\n+        working-directory: backend/_example/memory_store\n \n       - name: submit coverage\n-        run: |\n-          cd backend\n-          $(go env GOPATH)/bin/goveralls -service=\"github\" -coverprofile=$GITHUB_WORKSPACE/profile.cov\n+        run: $(go env GOPATH)/bin/goveralls -service=\"github\" -coverprofile=$GITHUB_WORKSPACE/profile.cov\n+        working-directory: backend\n         env:\n           COVERALLS_TOKEN: ${{ secrets.GITHUB_TOKEN }}"
    },
    {
      "sha": "9178128734434f68e9042c34e030fb2b43e22cef",
      "filename": "Dockerfile",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/umputun/remark/blob/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/Dockerfile",
      "raw_url": "https://github.com/umputun/remark/raw/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/Dockerfile",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/Dockerfile?ref=b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
      "patch": "@@ -22,10 +22,7 @@ RUN \\\n     if [ -z \"$SKIP_BACKEND_TEST\" ] ; then \\\n         go test -p 1 -timeout=\"${BACKEND_TEST_TIMEOUT:-300s}\" -covermode=count -coverprofile=/profile.cov_tmp ./... && \\\n         cat /profile.cov_tmp | grep -v \"_mock.go\" > /profile.cov ; \\\n-        golangci-lint run --out-format=tab --disable-all --tests=false --enable=unconvert \\\n-        --enable=megacheck --enable=structcheck --enable=gas --enable=gocyclo --enable=dupl --enable=misspell \\\n-        --enable=unparam --enable=varcheck --enable=deadcode --enable=typecheck \\\n-        --enable=ineffassign --enable=varcheck ./... ; \\\n+        golangci-lint run --config .golangci.yml ./... ; \\\n     else echo \"skip backend tests and linter\" ; fi\n \n # if DRONE presented use DRONE_* git env to make version"
    },
    {
      "sha": "c1a09b35ee1a8f7422bb3a815a1b9c59b0757e32",
      "filename": "backend/.golangci.yml",
      "status": "added",
      "additions": 22,
      "deletions": 0,
      "changes": 22,
      "blob_url": "https://github.com/umputun/remark/blob/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/backend/.golangci.yml",
      "raw_url": "https://github.com/umputun/remark/raw/b2176a175d4412f17d9af3b6b7c6addb99f8e86f/backend/.golangci.yml",
      "contents_url": "https://api.github.com/repos/umputun/remark/contents/backend/.golangci.yml?ref=b2176a175d4412f17d9af3b6b7c6addb99f8e86f",
      "patch": "@@ -0,0 +1,22 @@\n+run:\n+  tests: false\n+  output:\n+    format: tab\n+  skip-dirs:\n+    - vendor\n+linters:\n+  enable:\n+    - unconvert\n+    - megacheck\n+    - structcheck\n+    - gas\n+    - gocyclo\n+    - dupl\n+    - misspell\n+    - unparam\n+    - varcheck\n+    - deadcode\n+    - typecheck\n+    - ineffassign\n+    - varcheck\n+  disable-all: true"
    }
  ]
}
