{
  "sha": "8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODo4ZDUwZjA5MmI1NmY2Y2ZmOWU0YmE4ZjhhYWZhYTIxZDQ1NWIxMzRh",
  "commit": {
    "author": {
      "name": "David Taylor",
      "email": "david@taylorhq.com",
      "date": "2020-02-13T09:58:17Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-02-13T09:58:17Z"
    },
    "message": "DEV: Use classes for styling user and group cards (#8913)\n\nStyling based on element-ids, it is impossible for themes/plugins to display multiple cards on a single page. Using classes is a more flexible approach. The element-ids are maintained for backwards compatibility with existing plugins/themes.",
    "tree": {
      "sha": "5aff7edce9d7b934d75fa4f1eaa78b3da58238fc",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/5aff7edce9d7b934d75fa4f1eaa78b3da58238fc"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeRR25CRBK7hj4Ov3rIwAAdHIIAIeczcXv07ZoF7+UoyzRMBnQ\nBi63h7v75n19tYR9bO5SwWXATC2he4eZV6oUkD0rwCtoGJve1ppojy9JDz+W0t3I\nEq1pfm6V2162IvJdmeZQrmfa8v5XIChoSV4DESV7B8eGppZJJXTQckNIuV/J8k03\n5OqXzYic5EY66pvuxUzCO5mDjfYL9VqPdLU4G3X2zXbfloP3aUiPJc4K9/UN6vbL\n6Oq0na0nfAMackN+Aasnm7sli3RinfyRvIYQoO5UHKOawyVkVQffujSNIrtgEI3/\nbN3jQd35jdUij/SSrrDabuTgYzgyjQgBV7rE8PAN5dQc1zRU+/pHrUpLU2mx1WE=\n=OjVz\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 5aff7edce9d7b934d75fa4f1eaa78b3da58238fc\nparent 3875785dccae130d4e8ffa254870074dd9d96a48\nauthor David Taylor <david@taylorhq.com> 1581587897 +0000\ncommitter GitHub <noreply@github.com> 1581587897 +0000\n\nDEV: Use classes for styling user and group cards (#8913)\n\nStyling based on element-ids, it is impossible for themes/plugins to display multiple cards on a single page. Using classes is a more flexible approach. The element-ids are maintained for backwards compatibility with existing plugins/themes."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
  "html_url": "https://github.com/discourse/discourse/commit/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/comments",
  "author": {
    "login": "davidtaylorhq",
    "id": 6270921,
    "node_id": "MDQ6VXNlcjYyNzA5MjE=",
    "avatar_url": "https://avatars0.githubusercontent.com/u/6270921?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/davidtaylorhq",
    "html_url": "https://github.com/davidtaylorhq",
    "followers_url": "https://api.github.com/users/davidtaylorhq/followers",
    "following_url": "https://api.github.com/users/davidtaylorhq/following{/other_user}",
    "gists_url": "https://api.github.com/users/davidtaylorhq/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/davidtaylorhq/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/davidtaylorhq/subscriptions",
    "organizations_url": "https://api.github.com/users/davidtaylorhq/orgs",
    "repos_url": "https://api.github.com/users/davidtaylorhq/repos",
    "events_url": "https://api.github.com/users/davidtaylorhq/events{/privacy}",
    "received_events_url": "https://api.github.com/users/davidtaylorhq/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3875785dccae130d4e8ffa254870074dd9d96a48",
      "url": "https://api.github.com/repos/discourse/discourse/commits/3875785dccae130d4e8ffa254870074dd9d96a48",
      "html_url": "https://github.com/discourse/discourse/commit/3875785dccae130d4e8ffa254870074dd9d96a48"
    }
  ],
  "stats": {
    "total": 59,
    "additions": 30,
    "deletions": 29
  },
  "files": [
    {
      "sha": "71884696fb7edf8bfcc8ff08ceec79e7752997ed",
      "filename": "app/assets/javascripts/discourse/components/group-card-contents.js.es6",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/javascripts/discourse/components/group-card-contents.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/javascripts/discourse/components/group-card-contents.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/components/group-card-contents.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -12,7 +12,7 @@ const maxMembersToDisplay = 10;\n export default Component.extend(CardContentsBase, CleansUp, {\n   elementId: \"group-card\",\n   triggeringLinkClass: \"mention-group\",\n-  classNames: [\"no-bg\"],\n+  classNames: [\"no-bg\", \"group-card\"],\n   classNameBindings: [\n     \"visible:show\",\n     \"showBadges\","
    },
    {
      "sha": "cf2502c552b4a7db5cc44a79b7ac11cfde50056c",
      "filename": "app/assets/javascripts/discourse/components/user-card-contents.js.es6",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/javascripts/discourse/components/user-card-contents.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/javascripts/discourse/components/user-card-contents.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/components/user-card-contents.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -15,6 +15,7 @@ import { getOwner } from \"@ember/application\";\n \n export default Component.extend(CardContentsBase, CanCheckEmails, CleansUp, {\n   elementId: \"user-card\",\n+  classNames: \"user-card\",\n   triggeringLinkClass: \"mention\",\n   classNameBindings: [\n     \"visible:show\","
    },
    {
      "sha": "ae62bc5fdf0140c42e326d48c56b933156cc3125",
      "filename": "app/assets/stylesheets/common/base/user.scss",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/common/base/user.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/common/base/user.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/common/base/user.scss?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -703,7 +703,7 @@\n }\n \n .primary-textual .staged,\n-#user-card .staged {\n+.user-card .staged {\n   font-style: italic;\n }\n "
    },
    {
      "sha": "bf65bdf70b500b2016e139841646a69b04a11de6",
      "filename": "app/assets/stylesheets/common/components/user-card.scss",
      "status": "modified",
      "additions": 4,
      "deletions": 4,
      "changes": 8,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/common/components/user-card.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/common/components/user-card.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/common/components/user-card.scss?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -30,8 +30,8 @@ $avatar_margin: -50px; // negative margin makes avatars extend above cards\n }\n \n // shared styles for user and group cards\n-#user-card,\n-#group-card {\n+.user-card,\n+.group-card {\n   width: $card_width;\n   box-shadow: shadow(\"card\");\n   color: $primary;\n@@ -137,7 +137,7 @@ $avatar_margin: -50px; // negative margin makes avatars extend above cards\n }\n \n // styles for user cards only\n-#user-card {\n+.user-card {\n   // avatar - names - controls\n   .first-row {\n     display: flex;\n@@ -243,7 +243,7 @@ $avatar_margin: -50px; // negative margin makes avatars extend above cards\n }\n \n // styles for group cards only\n-#group-card {\n+.group-card {\n   // avatar - names and controls\n   .first-row {\n     display: flex;"
    },
    {
      "sha": "da9d5815b03c5d96b84fd07c8abd01bd3644aed7",
      "filename": "app/assets/stylesheets/desktop/components/user-card.scss",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/desktop/components/user-card.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/desktop/components/user-card.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/desktop/components/user-card.scss?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -1,6 +1,6 @@\n // shared styles for user and group cards\n-#user-card,\n-#group-card {\n+.user-card,\n+.group-card {\n   position: absolute;\n   z-index: z(\"usercard\");\n   &.fixed {\n@@ -35,7 +35,7 @@\n }\n \n // styles for user cards only\n-#user-card {\n+.user-card {\n   // badges\n   .badge-section {\n     .user-badge {"
    },
    {
      "sha": "d551b4070e323af578353d435589b2a8e880e2bc",
      "filename": "app/assets/stylesheets/mobile/components/user-card.scss",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/mobile/components/user-card.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/app/assets/stylesheets/mobile/components/user-card.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/mobile/components/user-card.scss?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -1,8 +1,8 @@\n $avatar_width: 120px;\n \n // shared styles for user and group cards\n-#user-card,\n-#group-card {\n+.user-card,\n+.group-card {\n   position: fixed;\n   // mobile cards should always be on top of everything - 1102\n   z-index: z(\"mobile-composer\") + 2;\n@@ -48,7 +48,7 @@ $avatar_width: 120px;\n }\n \n // styles for user cards only\n-#user-card {\n+.user-card {\n   // badges\n   .badge-section {\n     flex-wrap: wrap;"
    },
    {
      "sha": "fe7251fec130edeb59e6b091d09d26ed03635e59",
      "filename": "test/javascripts/acceptance/click-track-test.js.es6",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/click-track-test.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/click-track-test.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/javascripts/acceptance/click-track-test.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -7,9 +7,9 @@ QUnit.test(\"Do not track mentions\", async assert => {\n   server.post(\"/clicks/track\", () => assert.ok(false));\n \n   await visit(\"/t/internationalization-localization/280\");\n-  assert.ok(invisible(\"#user-card\"), \"card should not appear\");\n+  assert.ok(invisible(\".user-card\"), \"card should not appear\");\n \n   await click(\"article[data-post-id=3651] a.mention\");\n-  assert.ok(visible(\"#user-card\"), \"card should appear\");\n+  assert.ok(visible(\".user-card\"), \"card should appear\");\n   assert.equal(currentURL(), \"/t/internationalization-localization/280\");\n });"
    },
    {
      "sha": "45c4dda4ac06fc4f2e9cf5fd57fc4455984b4f74",
      "filename": "test/javascripts/acceptance/group-card-mobile-test.js.es6",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/group-card-mobile-test.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/group-card-mobile-test.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/javascripts/acceptance/group-card-mobile-test.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -6,12 +6,12 @@ acceptance(\"Group Card - Mobile\", { mobileView: true });\n QUnit.skip(\"group card\", async assert => {\n   await visit(\"/t/-/301/1\");\n   assert.ok(\n-    invisible(\"#group-card\"),\n+    invisible(\".group-card\"),\n     \"mobile group card is invisible by default\"\n   );\n \n   await click(\"a.mention-group:first\");\n-  assert.ok(visible(\"#group-card\"), \"mobile group card should appear\");\n+  assert.ok(visible(\".group-card\"), \"mobile group card should appear\");\n \n   sandbox.stub(DiscourseURL, \"routeTo\");\n   await click(\".card-content a.group-page-link\");"
    },
    {
      "sha": "54b716d601f83838801091f127c646d489878045",
      "filename": "test/javascripts/acceptance/group-card-test.js.es6",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/group-card-test.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/group-card-test.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/javascripts/acceptance/group-card-test.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -5,10 +5,10 @@ acceptance(\"Group Card\");\n \n QUnit.test(\"group card\", async assert => {\n   await visit(\"/t/-/301/1\");\n-  assert.ok(invisible(\"#group-card\"), \"user card is invisible by default\");\n+  assert.ok(invisible(\".group-card\"), \"user card is invisible by default\");\n \n   await click(\"a.mention-group:first\");\n-  assert.ok(visible(\"#group-card\"), \"card should appear\");\n+  assert.ok(visible(\".group-card\"), \"card should appear\");\n \n   sandbox.stub(DiscourseURL, \"routeTo\");\n   await click(\".card-content a.group-page-link\");"
    },
    {
      "sha": "9ed35047b60b93a641816666b66613bba1f2c56c",
      "filename": "test/javascripts/acceptance/user-card-mobile-test.js.es6",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/user-card-mobile-test.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/user-card-mobile-test.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/javascripts/acceptance/user-card-mobile-test.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -6,12 +6,12 @@ acceptance(\"User Card - Mobile\", { mobileView: true });\n QUnit.skip(\"user card\", async assert => {\n   await visit(\"/t/internationalization-localization/280\");\n   assert.ok(\n-    invisible(\"#user-card\"),\n+    invisible(\".user-card\"),\n     \"mobile user card is invisible by default\"\n   );\n \n   await click(\"a[data-user-card=eviltrout]:first\");\n-  assert.ok(visible(\"#user-card\"), \"mobile user card should appear\");\n+  assert.ok(visible(\".user-card\"), \"mobile user card should appear\");\n \n   sandbox.stub(DiscourseURL, \"routeTo\");\n   await click(\".card-content a.user-profile-link\");"
    },
    {
      "sha": "8ced970f99c323d2ae5989c1593a22fafe25a5b5",
      "filename": "test/javascripts/acceptance/user-card-test.js.es6",
      "status": "modified",
      "additions": 8,
      "deletions": 8,
      "changes": 16,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/user-card-test.js.es6",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/javascripts/acceptance/user-card-test.js.es6",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/javascripts/acceptance/user-card-test.js.es6?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -5,12 +5,12 @@ acceptance(\"User Card\", { loggedIn: true });\n \n QUnit.test(\"user card\", async assert => {\n   await visit(\"/t/internationalization-localization/280\");\n-  assert.ok(invisible(\"#user-card\"), \"user card is invisible by default\");\n+  assert.ok(invisible(\".user-card\"), \"user card is invisible by default\");\n \n   await click(\"a[data-user-card=eviltrout]:first\");\n-  assert.ok(visible(\"#user-card\"), \"card should appear\");\n+  assert.ok(visible(\".user-card\"), \"card should appear\");\n   assert.equal(\n-    find(\"#user-card .username\")\n+    find(\".user-card .username\")\n       .text()\n       .trim(),\n     \"eviltrout\",\n@@ -25,9 +25,9 @@ QUnit.test(\"user card\", async assert => {\n   );\n \n   await click(\"a[data-user-card=charlie]:first\");\n-  assert.ok(visible(\"#user-card\"), \"card should appear\");\n+  assert.ok(visible(\".user-card\"), \"card should appear\");\n   assert.equal(\n-    find(\"#user-card .username\")\n+    find(\".user-card .username\")\n       .text()\n       .trim(),\n     \"charlie\",\n@@ -36,7 +36,7 @@ QUnit.test(\"user card\", async assert => {\n \n   await click(\".card-content .compose-pm button\");\n   assert.ok(\n-    invisible(\"#user-card\"),\n+    invisible(\".user-card\"),\n     \"user card dismissed after hitting Message button\"\n   );\n \n@@ -45,9 +45,9 @@ QUnit.test(\"user card\", async assert => {\n   icon.classList.add(\"icon\");\n   mention.append(icon);\n   await click(\"a.mention .icon\");\n-  assert.ok(visible(\"#user-card\"), \"card should appear\");\n+  assert.ok(visible(\".user-card\"), \"card should appear\");\n   assert.equal(\n-    find(\"#user-card .username\")\n+    find(\".user-card .username\")\n       .text()\n       .trim(),\n     \"eviltrout\","
    },
    {
      "sha": "abd1a4589b884ab486e159683c79b327254db257",
      "filename": "test/smoke_test.js",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/smoke_test.js",
      "raw_url": "https://github.com/discourse/discourse/raw/8d50f092b56f6cff9e4ba8f8aafaa21d455b134a/test/smoke_test.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/test/smoke_test.js?ref=8d50f092b56f6cff9e4ba8f8aafaa21d455b134a",
      "patch": "@@ -162,7 +162,7 @@ const path = require(\"path\");\n   });\n \n   await exec(\"user has details\", () => {\n-    return page.waitForSelector(\"#user-card .names\", { visible: true });\n+    return page.waitForSelector(\".user-card .names\", { visible: true });\n   });\n \n   if (!process.env.READONLY_TESTS) {"
    }
  ]
}
