{
  "sha": "e23e247dffdc9e4b8dc840aa26369d82282435ef",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODplMjNlMjQ3ZGZmZGM5ZTRiOGRjODQwYWEyNjM2OWQ4MjI4MjQzNWVm",
  "commit": {
    "author": {
      "name": "Sam Saffron",
      "email": "sam.saffron@gmail.com",
      "date": "2020-02-29T07:30:08Z"
    },
    "committer": {
      "name": "Sam Saffron",
      "email": "sam.saffron@gmail.com",
      "date": "2020-02-29T07:30:08Z"
    },
    "message": "DEV: spec suite fails on leap years\n\nSomething about year math fails here on leap years, just\nset up the clock so it is consistent to avoid it.",
    "tree": {
      "sha": "f87d0e550d0b3b6fe118fca12734a018fcad8b79",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/f87d0e550d0b3b6fe118fca12734a018fcad8b79"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/e23e247dffdc9e4b8dc840aa26369d82282435ef",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEOSsR4Zg5f63AmUE+uWBhaNL/2fUFAl5aEwAACgkQuWBhaNL/\n2fXmoxAAnh2f9hfwociVvRn4HQa4nqCtpD8zSOOrqW8uC98dTWfUHtV/gaPAnnDb\nfpmFoKRp/AGbtdYRHKUAahQp9t1VI6Ani1nwsYgwwPhf4E07OHCLkWfh2JZNyv9W\njEU3aZkndBzhhorsORIA6XEAoJh6JlhgtX/03Ik3R80z5v+eA6gJFya2Nv4gusr7\nf+5jnm4INRy3S5R9jtvwq301k0guz5ZjL7on08eWun1cOlz8c1/+PB+YoidIvxUt\nEdsc61ZDulSrIXV/6whB1LV1dXARl1PuGO1Du1oazuhNSRwcKSUPm0Yx/9sdc7se\n+xU5Zmn2yD5ye3HKlGizypl3sd3/Cso2cgLFUxMYOFt4ohQP3jCa/SzAR5liA0jD\nRNEf3nFNCGO0RT1HcEkpaZKSaBpd+xdKB/Zq8LXq6ZWC/2G3gzU3Wk0XU8B7ZYB+\ngERPaDzIi/77yX4Ku1e8nSPfxHONGn+wuoSQvbs7KPNP742b/93f6R9HN4M7tgrM\nYC8jPJL41yCKI5zOALjmvzacDsErE/ZFBNuQBuh0bLcQDh82NBIH06xaBeFa6JY7\nys5Mg/RTK0gl7NLlrkyeaGR3vzejW2mo2ZY2mSwmBGd19XzCGhn/huS8QQFJfTmV\nUnnLe4wO5kcr9A1p0/Q17e9EkiL6c1fqcq2qlTvWP+sk1mQG2ng=\n=+RLt\n-----END PGP SIGNATURE-----",
      "payload": "tree f87d0e550d0b3b6fe118fca12734a018fcad8b79\nparent b4999acadd3783e0953f04729cafc2fe0598db87\nauthor Sam Saffron <sam.saffron@gmail.com> 1582961408 +1100\ncommitter Sam Saffron <sam.saffron@gmail.com> 1582961408 +1100\n\nDEV: spec suite fails on leap years\n\nSomething about year math fails here on leap years, just\nset up the clock so it is consistent to avoid it.\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/e23e247dffdc9e4b8dc840aa26369d82282435ef",
  "html_url": "https://github.com/discourse/discourse/commit/e23e247dffdc9e4b8dc840aa26369d82282435ef",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/e23e247dffdc9e4b8dc840aa26369d82282435ef/comments",
  "author": {
    "login": "SamSaffron",
    "id": 5213,
    "node_id": "MDQ6VXNlcjUyMTM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamSaffron",
    "html_url": "https://github.com/SamSaffron",
    "followers_url": "https://api.github.com/users/SamSaffron/followers",
    "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
    "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
    "repos_url": "https://api.github.com/users/SamSaffron/repos",
    "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "SamSaffron",
    "id": 5213,
    "node_id": "MDQ6VXNlcjUyMTM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamSaffron",
    "html_url": "https://github.com/SamSaffron",
    "followers_url": "https://api.github.com/users/SamSaffron/followers",
    "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
    "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
    "repos_url": "https://api.github.com/users/SamSaffron/repos",
    "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b4999acadd3783e0953f04729cafc2fe0598db87",
      "url": "https://api.github.com/repos/discourse/discourse/commits/b4999acadd3783e0953f04729cafc2fe0598db87",
      "html_url": "https://github.com/discourse/discourse/commit/b4999acadd3783e0953f04729cafc2fe0598db87"
    }
  ],
  "stats": {
    "total": 5,
    "additions": 3,
    "deletions": 2
  },
  "files": [
    {
      "sha": "d5bbb9fef580336641dad492632a8971b65cb4ae",
      "filename": "spec/components/post_creator_spec.rb",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/discourse/discourse/blob/e23e247dffdc9e4b8dc840aa26369d82282435ef/spec/components/post_creator_spec.rb",
      "raw_url": "https://github.com/discourse/discourse/raw/e23e247dffdc9e4b8dc840aa26369d82282435ef/spec/components/post_creator_spec.rb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/spec/components/post_creator_spec.rb?ref=e23e247dffdc9e4b8dc840aa26369d82282435ef",
      "patch": "@@ -485,7 +485,8 @@\n \n     it 'whispers do not mess up the public view' do\n \n-      freeze_time\n+      # turns out this can fail on leap years if we don't do this\n+      freeze_time DateTime.parse('2010-01-01 12:00')\n \n       first = PostCreator.new(\n         user,\n@@ -1414,7 +1415,7 @@\n     end\n \n     it \"links post uploads\" do\n-      public_post = PostCreator.create(\n+      _public_post = PostCreator.create(\n         user,\n         topic_id: public_topic.id,\n         raw: \"A public post with an image.\\n![](#{image_upload.short_path})\""
    }
  ]
}
